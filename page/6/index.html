<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Dave&#39;s Notebook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Dave&#39;s Notebook">
<meta property="og:url" content="http://davembush.github.com/page/6/index.html">
<meta property="og:site_name" content="Dave&#39;s Notebook">
<meta property="og:locale" content="English">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dave&#39;s Notebook">
  
    <link rel="alternate" href="/atom.xml" title="Dave&#39;s Notebook" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  

</head>

<body>
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class=""
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">Dave&#39;s Notebook</h1>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          
  
    <article id="post-amazing-angular2-dom-tips-tricks-and-warnings" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/amazing-angular2-dom-tips-tricks-and-warnings/">Amazing Angular2 DOM Tips, Tricks, and Warnings</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/amazing-angular2-dom-tips-tricks-and-warnings/" class="article-date"><time datetime="2017-01-17T12:30:00.000Z" itemprop="datePublished">2017-01-17</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Angular-2/">Angular 2</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>I’ve been working with Angular2 now since RC0 and I’ve learned quite a few things about Angular2 DOM tips, tricks, and warnings that you’ll want to pay attention to as you get started. [caption id=”” align=”aligncenter” width=”581”]<img src="//blog.dmbcllc.com/wp-content/uploads/2017/01/image.png" alt="Amazing Angular2 DOM Tips, Tricks and Warnings" title="Amazing Angular2 DOM Tips, Tricks and Warnings"> Photo credit: <a href="//www.flickr.com/photos/sis/196867770/">Sister72</a> via <a href="//visualhunt.com">VisualHunt</a> / <a href="//creativecommons.org/licenses/by/2.0/">CC BY</a>[/caption] </p>
<h2 id="Avoid-DOM-Manipulation"><a href="#Avoid-DOM-Manipulation" class="headerlink" title="Avoid DOM Manipulation"></a>Avoid DOM Manipulation</h2><p>One of the first things you need to understand about how Angular2 works compared to AngularJS is that any DOM manipulation you do using Angular2 isn’t really manipulating the DOM.  At least not directly.  Everything that happens at the DOM level is a result of a state change in the component.  When Angular2 realizes that the state has changed, it changes the DOM to reflect the change. What this means, generally, is that if you need to know about some state change that happened at the DOM level, you’ll want to track that change in your component class.  Can you access the DOM directly from your code?  Yes.  And sometimes you might just have to.  But you’ll produce code that is much easier to test if you avoid having your code reach up into the DOM to get current state information. You may have already heard about the experimental Web Workers support in Angular2.  To make sure you can use this, it would be best to avoid direct DOM manipulation until we are sure the Web Workers implementation will be able to deal with this properly. What this all means in practical terms is that you’ll want to avoid using libraries such as jQuery to manipulate your code and instead replicate that behavior using native Angular2 calls.</p>
<h2 id="Only-Generate-the-HTML-You-Need"><a href="#Only-Generate-the-HTML-You-Need" class="headerlink" title="Only Generate the HTML You Need"></a>Only Generate the HTML You Need</h2><p>On a similar note, you only want to render the HTML you’re going to need at any one time.  Not everything all at once.  This will allow your code to render much more efficiently. For example, if you have a menu that has dropdown menus, the temptation is going to be to render all the HTML the menu may need all at once and use JavaScript to show or hide the dropdowns as you mouse over them or click them.  But with Angular2, you could use the *ngIf directive to include and exclude the menu option as you need them to show.  This reduces the initial page size and simplifies your code.  Been there, done that. By the way, there are other directives you’ll want to get familiar with, but *ngIf is probably the most often ignored because you are likely to try to use display:none to hide an element instead of just eliminating it from the DOM completely.</p>
<h2 id="Minimize-Change-Detection"><a href="#Minimize-Change-Detection" class="headerlink" title="Minimize Change Detection"></a>Minimize Change Detection</h2><p>I was recently working on a component that displayed a nested array as a set of tabs and dropdown menus.  Everything was working great but I wanted to check the CSS on the dropdown so I could make some adjustments.  This is when I discovered that the HTML was being rewritten about once a second even though nothing had changed.  I couldn’t see this on the main screen, but it became super evident when I opened the developer tools. Fortunately, I had already learned about OnPush change detection.  So I was able to set my component to use Push notification:</p>
<p>@Component({<br>    templateUrl: ‘template.html’,<br>    changeDetection: <strong>ChangeDetectionStrategy.OnPush</strong><br>})<br>export class View …</p>
<p>And now the component only re-renders when the data it is looking at changes. For Push notification to work correctly, all the data that the component is looking at has to be <a href="//blog.dmbcllc.com/what-if-everything-was-immutable/">immutable</a> or an <a href="//blog.dmbcllc.com/reasons-to-use-rxjs-today/">Observable</a>.  These are both patterns you should become familiar with because any well architected Angular2 application will make significant use of both of these.</p>
<h2 id="Accessing-the-Component-Container"><a href="#Accessing-the-Component-Container" class="headerlink" title="Accessing the Component Container"></a>Accessing the Component Container</h2><p>Another problem I recently had was that I wanted to use the class attributes from the container on a child component.  The question I had trouble getting the answer to was, “just how to I access the container element?”  This was very easy.  It is always easy once you know the secret handshake.</p>
<p>this.elementRef</p>
<p>There are various properties and methods hanging off that which might be useful to you.  In my case, I wanted to go after the classes that had been attached and reattach them to the INPUT element that was a child of the component.  So, I needed to use:</p>
<p>this.elementRef.nativeElement.classList</p>
<h2 id="Accessing-Child-Elements"><a href="#Accessing-Child-Elements" class="headerlink" title="Accessing Child Elements"></a>Accessing Child Elements</h2><p>Similarly, you might want to access child elements from your code.  This is much easier to find when you search the Internet.</p>
<p>@ViewChild(‘input’) input: ElementRef;</p>
<p>@ViewChild is an attribute that tells the Angular2 compiler to look for an element in the template with the variable named input.  I’ll explain template variables in a bit.  In the code above, I’m going after the INPUT element with a template variable named “input” so I typed it as ElementRef since I don’t have a specific class name for it. If you only have one unique element, you can just use code that looks more like this:</p>
<p>@ViewChild(ElementClassName) variableName: ElementClassName;</p>
<p>Of course, you’ll want to make sure you imported ElementClassName for this to work.  In this case, I’m going after a specific type of element so I type the variable as that type.  Now my typescript code knows what properties, fields, and methods I have available.</p>
<h2 id="Template-Variables"><a href="#Template-Variables" class="headerlink" title="Template Variables"></a>Template Variables</h2><p>As I mentioned above, you can create template variables to allow you to access your child elements from your typescript code.  But you can use them for other purposes as well.  To create a template variable, just put a hash in front of the variable name you want to use.</p>
<input #firstname="" ...="">

<p>Now you can use this in your typescript using ViewChild() as explained above, or you can use it in your template as a regular variable.</p>
<div>{ {firstName.value}}</div>

<h2 id="Use-a-Model-Driven-Approach"><a href="#Use-a-Model-Driven-Approach" class="headerlink" title="Use a Model Driven Approach"></a>Use a Model Driven Approach</h2><p>If you are coming from AngularJS, you may be tempted to use what is commonly referred to as a Template Driven approach.  This is approach that relies no “Two-Way” data-binding to update the data in the typescript code to the fields in your template.  While this works for a lot of simple apps, you never know when a simple app will turn into a complex app and your Template based approach will quickly become insufficient. No, what you want to use is the Model Driven approach.  This approach gives you A LOT more control over what we typically are attempting to do in our forms and scales well as the complexity of our forms increases. I’ve written a lot more about this in my post on <a href="//blog.dmbcllc.com/awesome-angular2-architecture-options-and-opinions/">Angular2 Architecture</a>.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Obviously, there is a lot to learn.  If you keep using Angular2 like you’ve been using AngularJS, you are going to run into a lot of difficulties.  It pays to learn how a system works prior to using it for a real application. What have you learned along the way?  Leave a comment.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/amazing-angular2-dom-tips-tricks-and-warnings/" data-id="cjj1pqxv5001wtkhiawq9y4w0" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DOM/">DOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular-2/">angular 2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/typescript/">typescript</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-what-if-everything-was-immutable" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/what-if-everything-was-immutable/">What if Everything Was Immutable?</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/what-if-everything-was-immutable/" class="article-date"><time datetime="2017-01-10T12:30:00.000Z" itemprop="datePublished">2017-01-10</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Angular-2/">Angular 2</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>The first time a programmer who was trained in the classical procedural/object oriented history is confronted with the concept of making everything immutable, the first question that comes to mind is, “won’t that make my application slow?”  This is because of how most programmers have been trained.  Making everything immutable generally means that we must copy a lot of memory from one place to another.  Moving memory around is generally considered slow. And so, most programmers dismiss the whole idea as crazy talk.  But is it really all that crazy? [caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/12/image-4.png" alt="What if Everything Was Immutable?" title="What if Everything Was Immutable?"> Photo credit: <a href="//www.flickr.com/photos/pss/354177349/">Paul Stevenson</a> via <a href="//visualhunt.com">Visualhunt</a> / <a href="//creativecommons.org/licenses/by/2.0/">CC BY</a>[/caption] </p>
<h2 id="Two-Paths"><a href="#Two-Paths" class="headerlink" title="Two Paths"></a>Two Paths</h2><p>So, let’s look at some computer history.  If you’ve been in this industry any length of time, you’ve probably heard the name Turing and you know the Turing machine has something to do with programming.  But you may not know how it impacts your day to day programming life. In short, Turing is the guy we can point to as the father of modern computing, complete with the fact that we generally process everything sequentially.  It is this sequential processing that causes us to have instructions working on memory and it has served us well. But there is another branch of computer science that was made popular by Alonzo Church that is based on Lambda Calculus.  This branch of computer science is where the bulk of Functional Programming can be traced back to.  In this branch, everything is a function.  Any parameters you pass in cannot have their state changed and the value that is returned is a new value. The main benefits to this newer functional style are:</p>
<ul>
<li>If I pass in the same parameters, I’ll always get back the same value.</li>
<li>State is never mutated accidentally because state is never mutated.</li>
<li>Functions never have an unpredictable side effect.</li>
</ul>
<p>Just think of how many bugs you wouldn’t have introduced into your code had this been true when you wrote it.</p>
<h2 id="Convergence"><a href="#Convergence" class="headerlink" title="Convergence"></a>Convergence</h2><p>Recently, functional programming has become more popular and the two branches of computer science have started to merge.  Taking the best of both worlds and using what makes sense from each.  But, we’ve already had at least one immutable object in most of our object-oriented languages.  The String object.  So, what does String give us that we use nearly every day?</p>
<h2 id="Immutable-Strings"><a href="#Immutable-Strings" class="headerlink" title="Immutable Strings"></a>Immutable Strings</h2><h3 id="No-Side-Effects"><a href="#No-Side-Effects" class="headerlink" title="No Side Effects"></a>No Side Effects</h3><p>As we’ve already mentioned, that fact that something is immutable means it can’t be changed.  So, when you pass a string as a parameter, even though it is an object, the string won’t change if the function changes the string.  This is good news because the calling function doesn’t have to protect itself against unintended consequences.</p>
<h3 id="Memory-Efficiency"><a href="#Memory-Efficiency" class="headerlink" title="Memory Efficiency"></a>Memory Efficiency</h3><p>The other thing that happens with immutable object is that every string representation only exist once.  So, we never duplicate memory. What do I mean by this? Well, take this example from C#</p>
<p>var string1 = “abc”;<br>var string2 = “abc”;</p>
<p>if(string1 == string2){<br>  writeLn(‘is equal’);<br>}</p>
<h3 id="Testing-Equality"><a href="#Testing-Equality" class="headerlink" title="Testing Equality"></a>Testing Equality</h3><p><code>string1</code> and <code>string2</code> point to the same object “abc” not two different instances of “abc”.  This is why we can write <code>string1 == string2</code>.  Unfortunately, the == operator is overloaded so we are still doing string comparison.  But if you want efficiency, you can use the <a href="//blog.dmbcllc.com/net-string-pool-not-just-for-the-compiler/">Intern()</a> method and ReferenceEquals() to bypass this overload and use pointer comparison.  This is a good thing because we test for string equality and inequality so often the performance penalty we incur from making strings immutable is more than offset by the performance gains we get testing for equality.</p>
<h2 id="Make-Everything-Immutable"><a href="#Make-Everything-Immutable" class="headerlink" title="Make Everything Immutable"></a>Make Everything Immutable</h2><p>If you think about the code you typically write, how much of the time would you benefit from every object in your code working in a similar way to strings? Wouldn’t it be a great thing if you knew that when you passed an object into a function, that function was not going to change the object at all?  Can you think of times that might have prevented a bug? Think of the memory optimizations you would benefit from. And how much easier would it be to test for equality if all you had to test was a memory pointer?  Not only would it be fast, but it would be reliable and a lot less work to code.</p>
<h2 id="Immutability-is-Hard-–-or-is-it"><a href="#Immutability-is-Hard-–-or-is-it" class="headerlink" title="Immutability is Hard – or is it?"></a>Immutability is Hard – or is it?</h2><p>So now that you know what the benefits are, you are probably thinking, “Yes, but coding immutability into a language that doesn’t support it natively is a lot of work.  It is so much easier to write code the way I always have, even if it isn’t quite a safe.” Yes, I feel your pain.  But there are libraries for that.  Say you could get all the benefits of immutability with very little programming or performance cost?  Would you be interested? I know I was.  Just having the benefits of immutable data with the performance was benefit enough for me.  But then I was introduced to <a href="//facebook.github.io/immutable-js/">immutable.j</a>s and I realized that I could have all of the benefits with a lot less performance cost than I was expecting because the library uses data structures that allow us to manipulate pointers rather than raw data.  The result is that only pointers to data that have actually changed change.  Nearly everything else stays as it was and adding items to List instead of arrays and Maps ends up being a lot more efficient.</p>
<h2 id="Impact-on-Angular2"><a href="#Impact-on-Angular2" class="headerlink" title="Impact on Angular2"></a>Impact on Angular2</h2><p>By using immutable object in Angular2 along with libraries like <a href="//github.com/ngrx/store">NgRX/Store</a> you can see some major performance increases because the view will be able to determine when it needs to change based on simple object pointer comparison rather than checking entire objects.  For compute-intensive tasks, this is going to be a huge benefit. But it is also well worth learning how to use this before you ever need it simply because it will be a new way of thinking about your project that may take some time to get accustomed to.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/what-if-everything-was-immutable/" data-id="cjj1pqyq600xotkhi03gll2di" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular-2/">angular 2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/immutable/">immutable</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-the-irrational-fear-of-javascript-script-kiddies" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/the-irrational-fear-of-javascript-script-kiddies/">The Irrational fear of JavaScript &#34;Script Kiddies&#34;</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/the-irrational-fear-of-javascript-script-kiddies/" class="article-date"><time datetime="2017-01-03T12:30:00.000Z" itemprop="datePublished">2017-01-03</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Over the last several months, I’ve seen a lot of whining, complaining a fear regarding Angular 2 in particular and the JavaScript platform in general. Terms like “JavaScript fatigue” are indicative of the attitude. Another place I see this is with the recent announcement from the Angular team stating there will be another major point release every six months.  Like this is a bad thing? Or the general attitude that particular (modern) design decisions that have been made in some of the more recent frameworks that have been released are bad for JavaScript. And I look at that and honestly wonder why these people are programming in the first place.  If change bothers you, you are really in the wrong industry. [caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/12/image-3.png" alt="The Irrational fear of JavaScript &quot;Script Kiddies&quot;" title="The Irrational fear of JavaScript &quot;Script Kiddies&quot;"> Photo via <a href="//pixabay.com/en/users/tookapic-1386459/">tookapic</a> via <a href="//visualhunt.com/">Visualhunt.com</a>[/caption] </p>
<h2 id="I’m-Moving-To-…"><a href="#I’m-Moving-To-…" class="headerlink" title="I’m Moving To …"></a>I’m Moving To …</h2><p>I seriously saw this comment on one of the articles announcing the major point release and jumping to version 4 instead of 3.  The actual comment was, “I’m going to move to React.”  Now, the reason he was going to move to React because he’s afraid that these major point releases are going to be drastically different from the previous version so that he’ll always need to be learning something new.  I understand the fear.  But, I think it is unfounded.  Aside from the fact that the Angular team has assured us that there won’t be any breaking changes in the next version, what we have to take a look at is WHY there were so many breaking changes from version 1 to version 2.</p>
<h2 id="Remember-when…"><a href="#Remember-when…" class="headerlink" title="Remember when…"></a>Remember when…</h2><p>Remember back to when AngularJS was first introduced?  The best platform we had at the time was jQuery and KnockOut.  Yes, there were others, but those were the most prominent.  Especially jQuery.  Since then, the browsers have stabilized and most of the reasons for using jQuery have vanished. Another factor we need to consider is that the language has changed.  Oh, yeah, you can still write code like you used to 10 years ago, if you want.  But, the standards committee has finally committed to putting out new standards for the language every year.  So now, we have improvements that handle scope closure issues and fat arrow functions and the promise of not having to use promises or callbacks to force JavaScript into a more synchronous flow by using async and await. And then there is the history of various frameworks that have come out since.  We’ve made a lot of mistakes in the past that have led to improved ways of working with JavaScript to achieve various goals.  Function programming has crept into the mainstream.  Reactive programming has become more popular. For any framework to stay stagnant under these conditions would be foolish, if not suicidal. And to that programmer who is leaving Angular for React?  Good luck.  You think Angular is bad.  React makes all those changes you dread without changing the major number.</p>
<h2 id="What-would-it-be-like-if-…"><a href="#What-would-it-be-like-if-…" class="headerlink" title="What would it be like if …"></a>What would it be like if …</h2><p>Just imagine with me what it would be like if nothing ever changed.  How far back do you want to go?  How about back to where I started programming.  OK, that was 29 years ago.  I started programming on DOS 3.1 using Clipper (that’s a dBase III compiler).  We had 640K (that’s 640,000 bytes, not megs, not gigs) to program in.  We used overlay tricks to cram programs that were three times that size into the computer.  There was no GUI and what graphics we did have were incredibly grainy.  You were lucky if you had color.  There was no Internet, that was still the “property” of the colleges and the universities.  No Google to find answers to your questions.  No blogs. No cell phones. No social media. And all of that was less than 30 years ago. And yet, the way many people act, they would like things to stay the same.  And I ask, “Why?”  So that 30 years from today we are still struggling with the same issues we are today?</p>
<h2 id="Maturity"><a href="#Maturity" class="headerlink" title="Maturity"></a>Maturity</h2><p>Every new technology goes through essentially the same process. At first, it is brand new.  No one really knows the best way to use it.  Some are better planned than others, others were accidents and were subject to more discovery than others.  JavaScript was one of those that was more of an accident.  So, we’ve spent a lot of time trying to figure out the best way to use it.  Think about this, if we had known then what we know now, don’t you think JavaScript would have been designed differently from the beginning? At some point the new technology either dies, or matures enough that people start experimenting with how to use it best.  This is the place where design patterns are developed and features are added to the language.  This is the part of the cycle I love and is generally where I tend to jump into the technology. Eventually the technology matures and gets boring.  This is where I tend to jump off.  Java and .NET are in this phase.  The patterns for both are well established.  What features are being added are at the “nice to have” level.  But generally everything most people need to be able to do can already be done with what is available. We are currently at the beginning of the experimental phase.  Expect to see A LOT of change in the next several years.  If you don’t like it, move to a more mature technology that won’t change so much on you.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The final factor that magnifies all of the problems with JavaScript I’ve mentioned is that for way too long, JavaScript has been the language of Script Kiddies.  These are “programmers” who think that because they can achieve some sort of animation or validation on an HTML page by copy and pasting JavaScript they are real programmers.  So when someone with much more experience comes along and shows them a better way to program, instead of trying to learn they assert that this new way is wrong, or ridiculous, or declare they are going to take their toys and go to some other castle. The problem is, all the castles are now occupied by Kings and Queens instead of children who don’t know any better.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/the-irrational-fear-of-javascript-script-kiddies/" data-id="cjj1pqykz00t7tkhidx3hz2hg" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-awesome-angular2-architecture-options-and-opinions" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/awesome-angular2-architecture-options-and-opinions/">Awesome Angular2 Architecture Options and Opinions</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/awesome-angular2-architecture-options-and-opinions/" class="article-date"><time datetime="2016-12-27T12:30:00.000Z" itemprop="datePublished">2016-12-27</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Angular-2/">Angular 2</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>On the subject of Angular2 Architecture, the perception is that Angular 2 is a highly-opinionated architecture.  But even though there is a <a href="//angular.io/styleguide">style guide for Angular 2</a>, there are a lot of decisions that still need to be made when working on any but the most trivial of applications.  And even then, since most applications take on a life of their own, one could make the case that you need to make these decisions for any application you are building regardless of the initial size.  Applications grow up.  But, that’s another blog post. I’ve identified, and have formed opinions about 5 areas that Angular 2 leaves open for decisions.  Areas that if you don’t spend time considering the choices and making decisions could cost you in the future. The five areas I’ve identified are:</p>
<ol>
<li>Handling Forms</li>
<li>Page State Management</li>
<li>Component State Management</li>
<li>Data Flow</li>
<li>Client Side Data</li>
</ol>
<p>[caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/12/image-2.png" alt="Awesome Angular2 Architecture Options and Opinions" title="Awesome Angular2 Architecture Options and Opinions"> Photo via <a href="//pixabay.com/en/users/africaniscool-216435/">africaniscool</a> via <a href="//visualhunt.com/photos/business/">Visualhunt.com</a>[/caption] </p>
<h2 id="Handling-Forms"><a href="#Handling-Forms" class="headerlink" title="Handling Forms"></a>Handling Forms</h2><p>There are, at this point, two ways of dealing with forms in Angular 2.  The first looks a lot like Angular 1 in that it is “Template Driven.”  That is, everything you would describe about the form goes in the template.  Using declarative syntax, the bulk of your form logic is declared in “HTML” like syntax and bound to your TypeScript code in a “code behind” kind of way.  In a lot of ways, this will be very familiar to people who have coded ASP.NET or Angular 1. But, the problem with using this method is that at some point, you won’t be able to do something you need to do using just a declarative syntax.  The option is to use a “Model Driven” approach.  These leaves the HTML parts in the template with a few tags to wire the template to the TypeScript code it is associated with, but the bulk of the processing is all in the TypeScript file.  On the surface, you might think, “but Template Driven is much easier to think about.”  But I assure you, using a predominately model driven approach has several advantages that the serious programmer will enjoy.</p>
<h3 id="More-control-over-your-forms"><a href="#More-control-over-your-forms" class="headerlink" title="More control over your forms."></a>More control over your forms.</h3><p>The first advantage you will notice is that you’ll have more control over your form.  One place you will notice this is with form validation.  But, you’ll also notice greater control because you will have direct control on how the data moves in and out of your form instead of the “magic happens here” of data binding that can, with complex forms, become entirely too complex to reason about.</p>
<h3 id="Easier-to-test-the-forms"><a href="#Easier-to-test-the-forms" class="headerlink" title="Easier to test the forms."></a>Easier to test the forms.</h3><p>Another huge advantage to using Model Driven forms is that you end up with forms that are MUCH easier to test.  You can assume that the HTML is doing what it should and just test the TypeScript code.  With a more template driven approach you’ll need to work out how to actually test your HTML.  It can be done, and it isn’t really all that hard.  But using a model driven approach is easier.</p>
<h3 id="Easier-to-reason-about-how-the-code-is-being-processed"><a href="#Easier-to-reason-about-how-the-code-is-being-processed" class="headerlink" title="Easier to reason about how the code is being processed."></a>Easier to reason about how the code is being processed.</h3><p>Related to the two previous points, using Model Driven forms makes your cod much easier to reason about.  Once again, that whole “magic happens here” approach of data-binding can get in the way, while using the model driven approach will allow you to be very direct about what gets updated when more directly.</p>
<h2 id="Page-and-Component-State-Management"><a href="#Page-and-Component-State-Management" class="headerlink" title="Page and Component State Management"></a>Page and Component State Management</h2><p>The temptation is to try to architect an Angular 2 project so that it looks something like how we used to write Angular 1 applications.  That is, using an MV<em> architecture.  Where this gets messed up is that the HTML template, the TypeScript and the CSS are really all part of the same class.  Once you start thinking of them as one, MV</em> stops making as much sense. The pattern I prefer here is one that uses the top-level View as a Controller View.  That is, it is the one component that is responsible for being the traffic data cop.  All the components under it are responsible for either rendering the state information they have been passed by the Controller View, updating that state information or firing event out when they’ve done something the outside world should know about. The View Controller, on the other hand, is responsible for getting the data to and from where ever it needs to go. By doing this, you end up with very testable, modular code and it becomes very clear that all your logic for a page, or sub-page, exist in one very well defined section of your code.  In fact, you can eliminate the need for most dependency injection by following this pattern.  Any dependency injection you do need will probably end up in your Controller View.</p>
<h2 id="Data-Flow"><a href="#Data-Flow" class="headerlink" title="Data Flow"></a>Data Flow</h2><p>So far, the three main methods of data management that have emerged for Angular 2 seem to be:</p>
<ol>
<li>Direct Access</li>
<li>Flux/Redux</li>
<li>NgRX/Store</li>
</ol>
<h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><h4 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h4><p>While MVVM was possible in Angular 1, and it works at the View level in Angular 2, the preferred model is what has come to be known as “One way data binding” which sounds odd, and really doesn’t describe what it does. In short, while all the code you write may act like it is using two-way data-binding, the reality is that the code is only ever flowing in one direction. The problem with true MVVM data binding is that when it is done correctly, data changes because other data changed. This makes it very difficult to reason about the data in your application in all but the smallest of applications. Further, to get this to work correctly, the resulting system is almost always slower than it needs to be.  I’ve written before about <a href="//blog.dmbcllc.com/4-reasons-to-drop-mvvm/">why I think MVVM is a poor choice for design patterns</a>.</p>
<h4 id="Direct"><a href="#Direct" class="headerlink" title="Direct"></a>Direct</h4><p>It is possible to write an application that kind of looks like old style three layer architectures that some might try to call MVC, but it is a poor man’s implementation at best, and only because Angular 2 implements its own Dependency Injection Container mechanism does the result end up being anything close to loosely coupled. This implementation generally has the top-level component managing the state of the application, or at least the state of that particular page, and calling out directly to services that retrieve data from the server and manipulate data. While it works, in larger applications it can be difficult to manage and respond to state changes throughout your application.  Imagine if that could happen for “free”.</p>
<h4 id="Flux"><a href="#Flux" class="headerlink" title="Flux"></a>Flux</h4><p>The React community introduced a new pattern called Flux. There are multiple implementations of Flux, but the one that has become the defacto standard is called Redux. In general, Flux is made up of a series of publish subscribe mechanisms. And ends up looking a lot like what the Gang of Four originally defined MVC to be while not actually being MVC. In very simple terms, the View fires an event to a “Dispatcher” which is a singleton. Each repository, or data store, or model (just depends on what you want to call it) registers a listener with the “Dispatcher” that lets the dispatcher know that it wants to know whenever something significant happens. These repositories are also singletons. When the Dispatcher receives a notification from a View, it notifies all the listeners in turn. The listeners look at the message they receive from the dispatcher to see if it is something they care about. If it is, they process the message accordingly. Once they are done, they fire an event to each Controller View that has registered a listener with them. The Controller View then updates the view based on the information it was passed in the event. I don’t want this to get too far down the road of “How” but to make the above paragraph just a bit clearer. There is a top-level View item that does no rendering. It is only responsible for responding to event notifications and passing the data down into the child views. You may hear this referred to as a View Controller, but it is more accurately a Controller View. Hopefully, you can see how this solves the problem up needing to force an update on a View because some other View changed the state of something. Because everyone who cares about the state is listening for a notification that something changes, the screen update “just works” and is much more reliable than a more MVVM style of updating the view and data.</p>
<h4 id="NgRX-Store"><a href="#NgRX-Store" class="headerlink" title="NgRX/Store"></a>NgRX/Store</h4><p>Reactive Extensions are available for multiple platforms, including JavaScript.  You can read more about them at <a href="//reactivex.io/">http://reactivex.io/</a> and I’ve written about  <a href="//blog.dmbcllc.com/reasons-to-use-rxjs-today/">the reasons you want to use them</a> before.   But for purposes of this article, one of the problems that Reactive programming solves is cleanly dealing with the asynchronous nature of JavaScript. Nowhere is this more obvious than with Ajax request. If you’ve ever needed to deal with having to wait for multiple Ajax request to complete before you do something meaningful with the data, you are going to love Reactive programming. Another thing that Reactive programming gives you is that it makes everything a “stream”. In simple terms imagine working with an array that never ends and being able to respond appropriately to each element that come through that stream of arrays and you’ll have a good conceptual idea of what it means that everything is a stream.  This is how Reactive programming deals with asynchronous calls and events.  Add to this the concept that streams can be combined and you’ll start to understand why this cleans up the asynchronous nature of JavaScript. The result is that we can write code that fills the stream and other code that says, “when a particular item comes in on the stream, let me know about it.” Basically, an embellished publish/subscribe design pattern. From the description above, you should be able to see that Reactive programming can be used to implement Flux. This is exactly what NgRx/Store does. It allows us to concentrate on writing Reducers while it focuses on managing the dispatcher, event handling, and the various repositories, or stores, our application might need. As I’ve used NgRX/Store in my own applications, I’ve found that it further reduces the need for dependency injection and increases the testability of my code.  The tradeoff is that there is a learning curve.  But the time learning this new design pattern is well worth the effort.</p>
<h2 id="Client-Side-Data"><a href="#Client-Side-Data" class="headerlink" title="Client Side Data"></a>Client Side Data</h2><p>At some point, you are going to need to manage the data on the client side.  There are several issue you might want to consider.  But at the most fundamental layer, you will end up with data on the client side that looks like a relational data in a database.  The only difference is that your data will be primarily JSON data.  Eventually, you’ll want to join that data or filter it.  How will you do that? One product you might consider is <a href="//www.getbreezenow.com/">Breeze</a>.  It does a lot of stuff that makes your client side data look more like a database.  It is worth a look. If you end up using NgRX/Store and RxJS, you may find that does everything you need.  So that is another option.  The advantage to using this method is you are no longer constrained by trying to make everything look like a relational database table even when it isn’t. The other option, of course, is to use both for what they are good at.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Angular 2 brings a lot of new concepts. While it might be tempting to use coding patterns that seem more comfortable, I believe that the path that Angular 2 has chosen is the future of JavaScript specifically and the programming world in general. Just about everything that is new falls into the general category of “Functional Programming” and much like the switch from procedural programming to object oriented programming, there are going to be people who are not able to wrap their heads around the concepts. How many guys ended up using C++ syntax to write C code? However, the productivity gains once we make the jump to this new way of thinking about our code will be well worth both the learning curve and the possible loss of some older programmers who can’t or won’t be retrained. There is also a danger of not being able to retain good programmers because we are still stuck using design patterns that were popular in the past but have been superseded by ways the developer community at large considers “better.”</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/awesome-angular2-architecture-options-and-opinions/" data-id="cjj1pqy2e00a3tkhin8lha3m0" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular-2/">angular 2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/archietcture/">archietcture</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-dissecting-angular-2-modules" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/dissecting-angular-2-modules/">Dissecting Angular 2 Modules</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/dissecting-angular-2-modules/" class="article-date"><time datetime="2016-12-20T12:30:00.000Z" itemprop="datePublished">2016-12-20</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Angular-2/">Angular 2</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>In the new world of Angular 2, and even in the world of Angular.js, you might feel like the concept of a module is the most difficult to wrap your head around. This is especially if you’ve only ever written client side JavaScript code.  Once you’ve learned why you need a module, the temptation is to use one module for all your code.  I am guilty of doing that myself when I first started.  But, many times using one module for your entire application is the wrong thing to do because it reduces the ability to reuse your code in other modules.  Once you understand why modules exist, you’ll begin to reason about how to use modules appropriately. [caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/12/image-1.png" alt="Dissecting Angular 2 Modules" title="Dissecting Angular 2 Modules"> Photo credit: <a href="//www.flickr.com/photos/bahkubean/416801559/">Sappymoosetree</a> via <a href="//visualhunt.com">Visual hunt</a> / <a href="//creativecommons.org/licenses/by-nd/2.0/">CC BY-ND</a>[/caption] </p>
<h2 id="Why-Do-Modules-Exist"><a href="#Why-Do-Modules-Exist" class="headerlink" title="Why Do Modules Exist?"></a>Why Do Modules Exist?</h2><p>When the Angular 2 project started, modules did not exist, even though they had existed in Angular.js.  But as the RC process continued, it became obvious that modules were going to be necessary.  We could have written our code without modules, but the amount of code we would need to repeat to get the same functionality would be dramatically greater. It also often becomes more complex and harder to reason about. So, what exactly do modules get us? If you’ve worked in languages in the past that have the concept of a namespace, it might help you to think of a module as a substitute for namespaces.  They allow us to group similar functionality together, and specify what functionality that belongs to the module can be accessed by the outside world.  For example, I recently wrote a component that all the applications in our organization will be starting out with.  It is composed of multiple components, but I only want the top most component exposed to the developers who will be using it. So, modules allow us to both group code together and encapsulate code so that code that might otherwise be publicly available becomes private to the outside world.</p>
<h2 id="Dissecting-Modules"><a href="#Dissecting-Modules" class="headerlink" title="Dissecting Modules"></a>Dissecting Modules</h2><p>You may remember that in the <a href="//github.com/DaveMBush/GettingStartedWithAngular2/tree/Step-4">application we’ve been working on</a> we’ve already created a module.  In fact, when you create any application using the CLI, there will always be this top-level module.</p>
<p>@NgModule({<br>  declarations: [<br>    AppComponent<br>  ],<br>  imports: [<br>    BrowserModule,<br>    FormsModule,<br>    HttpModule,<br>    GettingStartedWithAngular2RoutingModule<br>  ],<br>  providers: [],<br>  bootstrap: [AppComponent]<br>})<br>export class AppModule { }</p>
<p>The declarations section simply specifies the components that this module owns.  In the case of our app so far, the only component it owns is the top-level AppComponent. The imports section loads modules this module is going to need available in the components it owns.  Many times, the components we need access to are only needed in our templates.  Prior to using modules, we would need to include our components in our TS files just so the templates could access them.  By loading them in the module, we can load modules once even though we may have multiple components that are part of the module that may need them. Since our module is not using any injectables, the providers section is empty.  But that is what the providers section is for.  Any class that we will need to inject in the constructor of other code would be listed in this providers section. Finally, the bootstrap section has the one component this module should load.  This only shows up in the top-level module.  While it is needed, I’ve yet to figure out why.  We’ve already loaded the module, and therefore the component and the tag for the top-level component is in our index.html file, so I can’t see the point of specifying it here yet again. You may wonder, “How does this AppModules get loaded?”  Go back to the root of your app directory and look for the main.ts file.  You’ll see that we loaded it in there.</p>
<p>platformBrowserDynamic().bootstrapModule(AppModule);</p>
<p>You might wonder why this code is not included in the application module.  This is because you might not always want to use platformBrowserDynamic().  If you are using Web Workers to run your code or using Ahead of Time compile, you would use two other methods of bootstrapping the module.  I’ve only mentioned three here, but there are others. The next property you are likely to see in a module declaration is the exports section:</p>
<p>exports:  [Edit]</p>
<p>This tells the module that has imported this module that it can use the Edit component.  We didn’t need this in the app module because the app module isn’t being used by another module.  It is the top most module and really can’t be used by any other module by definition.</p>
<h2 id="Routing-and-Modules"><a href="#Routing-and-Modules" class="headerlink" title="Routing and Modules"></a>Routing and Modules</h2><p>Several weeks ago we took a look at <a href="//blog.dmbcllc.com/angular-2-lazy-loading/">implementing Lazy Loading by modifying our routing module</a>.  What is unique about this situation is that every time you lazy load a module, it becomes the top most module, so once again, there is no real need to export it.</p>
<h2 id="When-Should-Modules-Be-Used"><a href="#When-Should-Modules-Be-Used" class="headerlink" title="When Should Modules Be Used?"></a>When Should Modules Be Used?</h2><p>As I said when I started, the temptation is to just put all our import statements that our application is going to need in our app module.  But that seems like an extremely lazy way of writing code.  And when you go to write lazy loaded modules, that’s not going to work so well for you.  So, there are two ways you can approach this. First, you can just create a module for every component you write.  It is probably over kill, but it would be hard to go too far wrong here.  Given the choice between too many modules and not enough, I’d error on the side of too many.  At least it gives you the flexibility do make necessary changes in the future. But the more reasonable approach would be one module per feature and a module for common stuff.  For example, if you are writing a component library, you would probably be safe writing a module for all the components in your library so you only have to import the library module and all your component would automatically become available to you.  You’ll want to at least want to have one module per route so that you can lazy load the routes if you decide that is necessary.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/dissecting-angular-2-modules/" data-id="cjj1pqy5c00ddtkhizrhuzhft" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular-2/">angular 2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/modules/">modules</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-reasons-to-use-rxjs-today" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/reasons-to-use-rxjs-today/">Reasons to use RxJS Today</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/reasons-to-use-rxjs-today/" class="article-date"><time datetime="2016-12-13T12:30:00.000Z" itemprop="datePublished">2016-12-13</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Angular-2/">Angular 2</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>If you’ve started looking at Angular 2, one of the things that you’ll notice is that <a href="//github.com/Reactive-Extensions/RxJS">RxJS</a> has gotten a bit of a toe hold in the framework.  This becomes apparent the first time you try to access data.  Gone is the $http service that returns a promise.  Instead, we now have a service that returns an Observable. Now, writing the code to access the server is arguably easy to learn.  But, as you travel down the rabbit hole that is Angular 2, you realize that RxJS shows up in places as disperse as <a href="//github.com/ngrx/store">NgRX/Store</a>, handling events, and as we’ve already mentioned, AJAX calls. Because it shows up in so many places, this new API is set to be the next thing we will need to learn to be effective JavaScript programmers.  But, should we? [caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/12/image.png" alt="Reasons to use RxJS Today" title="Reasons to use RxJS Today"> Photo credit: <a href="//www.flickr.com/photos/91035846@N05/9374805577/">Dace Kiršpile</a> via <a href="//visualhunt.com">Visualhunt</a> / <a href="//creativecommons.org/licenses/by/2.0/">CC BY</a>[/caption] </p>
<h2 id="A-Story"><a href="#A-Story" class="headerlink" title="A Story"></a>A Story</h2><p>As I first started to dig into using RxJS, I found myself being more confused than I expected.  And yet, I was convinced that this new way of thinking about my code would be well worth the effort. It reminds me of the days when we switched from Procedural Programming (PP) to Object Oriented Programming (OOP).  Yes, I’ve been coding that long. Somewhere around the third year of my career, C++ finally became popular enough that both Borland and Microsoft produced a C++ compiler and framework for developing Windows applications.  I remember falling in love with it.  Maybe I hadn’t been using procedural programming long enough to make switching difficult.  Maybe I just thought about code as Objects anyhow.  But, whatever the reason, I couldn’t figure out why some of my peers had such a hard time grasping the concepts. As I was working on learning RxJS, I found myself feeling like I was either too old to learn a new trick, or I was just getting dumb in my old age.  Why is it so hard? Fortunately, I found a site that helped me understand RxJS specifically and Reactive Functional programming in general.  I am no longer in the class of “old farts who can’t learn new stuff.”  And now that I understand, everything is starting to look for Reactive.</p>
<h2 id="What-Is-RxJS"><a href="#What-Is-RxJS" class="headerlink" title="What Is RxJS?"></a>What Is RxJS?</h2><p>If you’ve ready anything about RxJS or any of the ReactiveX libraries that are available for other languages, you’ll find that most of them start off by saying that RxJS “makes everything a stream.”  Which, while that may be technically true, isn’t very helpful.  What would it look like if we redefine that?  The best way to think about RxJS is that it makes everything a special type of collection called an Observable.</p>
<h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><p>In JavaScript, you are already deal with a special type of collection called an Array. Now, let me lead you though the thought process you’ll need to travel down to see how RxJS is going to be helpful for you. For now, let’s just assume everything is an array.  This will make the jump easier. In pure JavaScript, you are typically writing code that either looks like this: (old school)</p>
<p>var someArray = […data here…];<br>for(var i = 0;i &lt; array.length;i++)<br>{<br>    var a = someArray[i];<br>   … do something with the data …<br>}</p>
<p>Or using newer syntax:</p>
<p>var someArray = […data here…];<br>someArray.forEach(function(a){<br> …do something with the data…<br>});</p>
<p><a href="//code.tutsplus.com/tutorials/what-they-didnt-tell-you-about-es5s-array-extras--net-28263">Array Extras</a> takes some of the code we typically write in these loops and standardizes them so we can reduce the amount of code we need to write, while still achieving the same goals. For example, you might loop through an array to generate a new array.  For that you would use map().  Or you might loop through an array to filter out elements.  That would be filter(). The great thing about this Array Extra functions is that they each return a new array.  This means you don’t impact the original array and you can chain these functions together:</p>
<p>var someArray = […data here…];<br>var transformedAndFiltered = someArray<br>   .filter(function(item){…filter code…})<br>   .map(function(item){…tranform code…});</p>
<p>someArray still has the original data and transformedAndFiltered has the new data.</p>
<h3 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h3><p>Now, imagine we create a system where we have arrays that never end.  Instead of using the old school for/next loop, we would be left with only being able to use a forEach, or one of the Array Extras function.  Which would be fine.  The function would just wait until the next element showed up or it got some sort of signal that there wouldn’t be any more elements. This is exactly what RxJS does.  So, now we can listen for events as though they were arrays.</p>
<p>Observable.fromEvent(element,’click’)<br>   .subscribe(function(x){…do something in response…});</p>
<p>Pretty cool, right? If you need to, you can place a filter prior to the subscribe so that you only get events that meet the exact condition.  In fact, if any of the functions you pass as parameters have conditional logic in them, this is a good indication that you are not yet thinking in a Reactive way.</p>
<h3 id="Asynchronous-Code"><a href="#Asynchronous-Code" class="headerlink" title="Asynchronous Code"></a>Asynchronous Code</h3><p>Now, as I’ve already mentioned, RxJS also lets you deal with asynchronous code as though it is an array.  This works pretty much as you would expect on the surface, but there are some added advantages to using RxJS to deal with asynchronous calls.  The most significant of them being that you can achieve better flow of control. If you’ve ever dealt with needing to make multiple calls to the server for data prior to allowing the user to use the screen, you’ll appreciate that you can make all the calls at once and only continue once all of them have completed.  Or, you could make the calls one after the other, if you have calls that depend on each other.  Yes, promises do this as well, but the Reactive method is a bit cleaner. The other way RxJS improves on promises is that you can cancel a request instead of just letting it run even though you no longer want the data.  This means, you won’t be tying up bandwidth waiting for data to come back when you want newer data instead. Finally, using RxJS, you can easily retry a failing request, as well as deal with failing request using the .retry() and catch() functions.</p>
<h2 id="Functional-Matters"><a href="#Functional-Matters" class="headerlink" title="Functional Matters"></a>Functional Matters</h2><p>Now, all of this is great.  But the side effect of the fact that RxJS is both Functional and Reactive is that it not only reduces the amount of code that you need to write, but it also produces code that is less prone to errors and easier to test. Let me explain. We’ve already shown above that all the RxJS functions return new Observables.  I kind of brushed over this.  But this is a big deal.  Because the original data in the Observable is never modified, you never run the risk of modifying the data that some other part of your code is expecting to never be modified.  This is even more important when you are working on a larger project with multiple developers.  This means all your assumptions about your data will remain true when your team commits to using functional paradigms throughout your code base. But this effect doesn’t just impact the observable code base.  What I’ve found is that the more code you write that is functional and obeys the immutable rules, the easier the rest of your code is to test.  Specifically, I find myself using less dependency injection simply because I am using immutable objects.  Because I can depend on the code not having any side effects, my functional code is easier to test and my none functional, more object-oriented code, is easier to test because it has fewer dependencies.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The most difficult thing about using RxJS or any other Reactive Functional library is the fact that it requires you to think a little bit differently about the problems you are solving.  But the advantages far outweigh the learning curve.  Don’t be like so many of the script kiddies on the web who complain every time they must learn something new.  Step up to the challenge.  Your customers will thank you.  The guy who maintains your code in the future will thank you.  Your future self will thank you.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/reasons-to-use-rxjs-today/" data-id="cjj1pqygw00pbtkhi3ru5i6it" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rxjs-angular-2/">rxjs. angular 2</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-angular-2-lazy-loading" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/angular-2-lazy-loading/">Angular 2 Lazy Loading</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/angular-2-lazy-loading/" class="article-date"><time datetime="2016-12-06T12:30:00.000Z" itemprop="datePublished">2016-12-06</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Angular-2/">Angular 2</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Last week when we took a look at <a href="//blog.dmbcllc.com/adding-client-side-routing-to-angular-2/">Client side Routing</a>, I mentioned that one of the reasons you’d want to implement a component in its own module is so that we could lazy load the component and its dependencies. This week, we want to dig into how to implement lazy loading in your Angular 2 application. [caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/11/image-5.png" alt="Angular 2 Lazy Loading" title="Angular 2 Lazy Loading"> Photo via <a href="//pixabay.com/en/users/jordan3600-400129/">jordan</a> via <a href="//visualhunt.com/">Visualhunt</a>[/caption] </p>
<h2 id="What-Is-Lazy-Loading"><a href="#What-Is-Lazy-Loading" class="headerlink" title="What Is Lazy Loading?"></a>What Is Lazy Loading?</h2><p>Imagine that you’ve written an application that is divided into four main sections.  The people using the site may only use one or two sections of the site at a time, or at all.  Is it fair to make them download the entire site? Or maybe you’ve written a monster site.  Wouldn’t it make more sense to download only what you need as you need it?  The perceived performance of a site written like this far exceeds the performance of a site that requires you to download everything at once. And so, Lazy Loading was developed as a way of solving these issues and others.  The idea is, rather than downloading everything, download only what is needed when it is needed.</p>
<h2 id="The-Code"><a href="#The-Code" class="headerlink" title="The Code"></a>The Code</h2><p>Remember that last week we implemented a View module and an Edit module.  We called them from our router by importing the modules and telling the router to load the components when a route was specified. Because we are no longer loading the modules as part of our main application, we are going to go into the <code>app-routing.module.ts</code> file and remove all of the references to the components and the module.  Instead, we are going to load the module using the <code>loadChildren</code> property in our route array.</p>
<p>import { NgModule } from ‘@angular/core’;<br>import { Routes, RouterModule } from ‘@angular/router’;<br>// import { ViewComponent } from ‘./view/view.component’;<br>// import {ViewModule} from “./view/view.module”;<br>// import {EditModule} from “./edit/edit.module”;<br>// import {EditComponent} from “./edit/edit.component”;</p>
<p>const routes: Routes = [<br>  { path: ‘’,<br>    loadChildren: ‘./view/view.module#ViewModule’<br>    //component: ViewComponent<br>  },<br>  { path: ‘Add’,<br>    loadChildren: ‘./edit/edit.module#EditModule’<br>    //component: EditComponent<br>  },<br>  { path: ‘Edit/:id’,<br>    loadChildren: ‘./edit/edit.module#EditModule’<br>    //component: EditComponent<br>  }<br>];</p>
<p>@NgModule({<br>  imports: [<br>    RouterModule.forRoot(routes)<br>    //ViewModule,<br>    //EditModule<br>  ],<br>  exports: [RouterModule],<br>  providers: []<br>})<br>export class GettingStartedWithAngular2RoutingModule { }</p>
<p>You’ll notice the format of the loadChildren string is:</p>
<ol>
<li>The path to the module (without the file extension)</li>
<li>hash</li>
<li>The class in the component that is exported</li>
</ol>
<p>But, there is nothing in the code that tells us what component is supposed to load.  This is because the job of deciding what component to load has now been delegated to the module. This is the part that remained a mystery to me for quite a while.  I would look at the code demos but never saw the next part.  Maybe this will save you some of that trouble. In the view module, add this line to the imports array:</p>
<p> RouterModule.forChild([<br>    {path: ‘’, component: ViewComponent}<br>])</p>
<p>Notice that we are using forChild here instead of forRoot but otherwise this looks the same as what we originally had for the View component prior to implementing lazy loading. We can implement a similar line in the EditModule, except the component will be EditComponent.</p>
<p>RouterModule.forChild([<br>    {path: ‘’, component: EditComponent}<br>])</p>
<h2 id="Under-the-Hood"><a href="#Under-the-Hood" class="headerlink" title="Under the Hood"></a>Under the Hood</h2><p>Build the system using <code>ng build</code> because I want to show you what is happening under the hood. Once you’ve built the system, look in the <code>dist</code> directory.  You’ll see a <code>0.chunk.js</code> and a <code>1.chunk.js</code> file.  These files hold the module and dependencies that we’ve lazy loaded. If you load the application with the developer tools loaded and look at the network tab, you’ll see that one chunk is loaded immediately, for the view.  The other is loaded when you navigate to the add or edit path. The code so far can be found at <a href="//github.com/DaveMBush/GettingStartedWithAngular2/tree/Step-4" title="https://github.com/DaveMBush/GettingStartedWithAngular2/tree/Step-4">https://github.com/DaveMBush/GettingStartedWithAngular2/tree/Step-4</a></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/angular-2-lazy-loading/" data-id="cjj1pqxvf002btkhijwyqsimz" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular-2/">angular 2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lazy-loading/">lazy loading</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-adding-client-side-routing-to-angular-2" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/adding-client-side-routing-to-angular-2/">Adding Client Side Routing to Angular 2</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/adding-client-side-routing-to-angular-2/" class="article-date"><time datetime="2016-11-29T12:30:00.000Z" itemprop="datePublished">2016-11-29</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Angular-2/">Angular 2</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Over the last several Angular 2 posts, we’ve been building up our application bit by bit and examining the various features of Angular 2 along the way using the Angular CLI where that makes sense and modifying it along the way.  So far, routing is an area that the Angular CLI does not yet support and so, when you want to use routing in your Angular 2 application, you’ll need to wire most of it in by hand. Now, the routing engine has changed several times during the development of Angular 2.  And I know you’re wondering which version of the router this article is going to be talking about.  So, to be clear, this article was written using the Angular CLI version 1.0.0-beta.21 and Router version 3.2.1. [caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/11/image-4.png" alt="Adding Client Side Routing to Angular 2" title="Adding Client Side Routing to Angular 2"> Photo credit: <a href="//www.flickr.com/photos/xomiele/6759264721/">xomiele</a> via <a href="//visualhunt.com/photos/snow/">Visualhunt</a> / <a href="//creativecommons.org/licenses/by/2.0/">CC BY</a>[/caption] </p>
<h2 id="What-is-Routing"><a href="#What-is-Routing" class="headerlink" title="What is Routing?"></a>What is Routing?</h2><p>If you are new to developing Single Page Application (SPAs) you might wonder what Routing is.  You might be surprised to find out that you already know what routing is, but you’ve never actually called it by this name. For example, using MVC in the ASP.NET world, you used routing whenever you specified what controller you expected your code to hit when you specified a particular URL.  You’ll remember that we set our code up so that when we specified that URL, code in a controller would get hit.  We also had the option of specifying parameters that we wanted to have passed into our controller methods. In a SPA, routing does essentially the same thing.  The only difference is that we never have to call the server.  This makes all our “Pages” virtual.  Instead of requiring that our visitors always start at our home page and navigate into the rest of our site; instead of creating a separate page on the server for each page in our site; we can load all the site up front and the user can navigate to exactly the page they want to be at.  They can even link directly to that page and the client side will handle displaying the page appropriately.</p>
<h2 id="There’s-a-Catch"><a href="#There’s-a-Catch" class="headerlink" title="There’s a Catch"></a>There’s a Catch</h2><p>One of the problems you’ll quickly discover is that for this to work, you’ll need to set your server up so that it doesn’t try to handle the routing as well. You see, if you navigate to the home page of your web site and then click around into the sub-pages, everything is going to appear to work correctly.  But once you try to navigate directly to an inner page, you are going to become extremely frustrated.  The problem lies in order your code gets executed. When you request a page directly, what happens is that the server will look for that page on the server.  If it can’t find it, it will return, appropriately, a 404 error.  The problem is that when we ask for a page that only exist because the client side has said it does, when the server goes to look for it, it will return the 404 error.  It isn’t there. For the moment, I’m ignoring the fact that Angular 2 supplies a feature called Server Side Rendering, which can also take care of this problem.  Given regular, out of the box, Angular 2 code, you’ll want to make sure you server knows what to do when the files don’t exist.  What I normally do is that I create a rule on my server that says, “if I’m looking for a path that doesn’t have an extension, just return the index.html page you would have returned if I had asked for the home page.” In Express on Node.JS, the code for this looks like this:</p>
<p>// This comes last.  right before we start listening<br>app.use(function(req,res){<br>    // this sends back the index.html file when<br>    // it looks like they are looking for<br>    // a client side route<br>    // assuming a real file will have an extension<br>    // and a route will not.<br>    if(req.url.indexOf(‘.’)> -1){<br>        res.status(404)        // HTTP status 404: Not Found<br>            .send(‘Not found’);<br>    }<br>    else {<br>        res.sendFile(__dirname + ‘/www/index.html’);<br>    }<br>});</p>
<p>If you are using IIS and ASP.NET, you might find this article I wrote about using <a href="//blog.dmbcllc.com/asp-net-angular-js-html5mode/">Angular, Routing, and ASP.NET</a> useful.</p>
<h2 id="Enabling-Routing"><a href="#Enabling-Routing" class="headerlink" title="Enabling Routing"></a>Enabling Routing</h2><p>Since the Angular CLI has included the packages you’ll need to enable routing, there is nothing to install.  We just need to write some code. Typically routes get enabled at the top of your application after all the common code has been implemented.  So, in the location where you want the routing to take effect, add the following tag:</p>
<p><router-outlet></router-outlet></p>
<p>I’ve added this to my <code>app.component.html</code> file in the sample app I’ve been working on. Replacing the <code>&lt;h1&gt;{ {title}}&lt;/h1&gt;</code> code that we had from the previous weeks. If you were to run the code now all that you would see is that the title no longer shows up.  We need to add the route code next. You will notice that an <code>app-routing.module.ts</code> file already exist.  Open this file.  You will see that the bulk of the code we are going to need is already there. You should see a line that looks like:</p>
<p>const routes: Routes = [];</p>
<p>We are going to add a route to this array:</p>
<p>export const routes: Routes = [<br>        {<br>            path: ‘’,<br>            component: ViewComponent,<br>        }<br>];</p>
<p>What this is saying is that whenever we ask for the home page, load the “ViewComponent” component. But wait, we haven’t added any components yet. While we COULD just add a component, what I prefer to do is to add a new module.  This is because I dislike the idea of making all the components in my code part of one huge modules.  It makes it extremely difficult to refactor my code.  I also want the ability to implement lazy loading in the future and I will need the component I am routing to, to be part of its own component in order for that to work. To add a View component to our code run the following line from the terminal/command line <code>ng g module view</code> This will create a new ViewModule module with a new ViewComponent component located in the view directory. The rest of what we need to do is to just wire this all into the existing application. Go back to <code>app-routing.module.ts</code> and add an import statement to load in <code>ViewComponent</code> and the <code>ViewModule</code>:</p>
<p>import { ViewComponent } from ‘./view/view.component’;<br>import {ViewModule} from “./view/view.module”;</p>
<p>We also need to add <code>ViewModule</code> to the imports array.</p>
<p>@NgModule({<br>  imports: [<br>    RouterModule.forRoot(routes),<br>    ViewModule<br>  ],<br>  exports: [RouterModule],<br>  providers: []<br>})</p>
<p>Next, we need to register the routing module with the application.  So, load up the app.module.ts file and add an import statement to import the app-routing module:</p>
<p>import { _applicationName_RoutingModule} from ‘./app-routing.module’;</p>
<p>And add _applicationName_RoutingModule to the imports array:</p>
<p>@NgModule({<br>  declarations: [<br>    AppComponent<br>  ],<br>  imports: [<br>    BrowserModule,<br>    FormsModule,<br>    HttpModule,<br>    _applicationName_RoutingModule<br>  ],<br>  providers: [],<br>  bootstrap: [AppComponent]<br>})</p>
<p>Adding additional routes is more of the same.  Let’s add another module for editing. <code>ng g module edit</code> Add two new paths.  One so we can add a new item and one so we can edit an existing item.</p>
<p>const routes: Routes = [<br>  { path: ‘’,<br>    component: ViewComponent<br>  },<br>  { path: ‘Add’,<br>    component: EditComponent<br>  },<br>  { path: ‘Edit/:id’,<br>    component: EditComponent<br>  }<br>];</p>
<p>Notice that for the Edit command I added :id at the end.  The :id specifies that this location is where the parameter will be.  In this case, the ID of the record that we want to edit. We will flesh these out later and I’ll leave adding import statements and adding modules to the import arrays to you.  It is essentially copy/paste/modify from the previous code.  When you have the code working, you should be able to navigate to /Add or /Edit/id and see the new page. If you get stuck, the code so far can be found here: <a href="//github.com/DaveMBush/GettingStartedWithAngular2/tree/Step3" title="https://github.com/DaveMBush/GettingStartedWithAngular2/tree/Step3">https://github.com/DaveMBush/GettingStartedWithAngular2/tree/Step3</a></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/adding-client-side-routing-to-angular-2/" data-id="cjj1pqxut001htkhifbh3a266" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular-2/">angular 2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/routing/">routing</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-unit-testing-an-angular-2-cli-project" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/unit-testing-an-angular-2-cli-project/">Unit Testing an Angular 2 CLI Project</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/unit-testing-an-angular-2-cli-project/" class="article-date"><time datetime="2016-11-23T00:30:00.000Z" itemprop="datePublished">2016-11-22</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Angular-2/">Angular 2</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>This week we want to continue our series about Angular 2 by looking at the Unit Testing capabilities that Angular 2 provides for us.  What we want to cover today is:</p>
<ul>
<li>Tweaking Karma to avoid using the Browser Window</li>
<li>Code Coverage</li>
<li>Tips to testing components</li>
</ul>
<p>This article was written using Angular CLI version 1.0.0-beta.20-4  (Tip, if you are upgrading on windows, <code>rm –rf node_modules dist temp</code> just means to delete the three directories.  You can do that part manually, or install bash for Windows and run the command in bash.) [caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/11/image-3.png" alt="Unit Testing an Angular 2 CLI Project" title="Unit Testing an Angular 2 CLI Project"> Photo credit: <a href="//www.flickr.com/photos/jimmiehomeschoolmom/4427775569/">jimmiehomeschoolmom</a> via <a href="//visualhunt.com">VisualHunt.com</a> / <a href="//creativecommons.org/licenses/by-nc-sa/2.0/">CC BY-NC-SA</a>[/caption] </p>
<h2 id="Tweaking-Karma"><a href="#Tweaking-Karma" class="headerlink" title="Tweaking Karma"></a>Tweaking Karma</h2><p>Open up the project we’ve been working on.</p>
<ul>
<li><a href="//blog.dmbcllc.com/getting-started-angular-2/">Getting Started With Angular 2</a></li>
<li><a href="//blog.dmbcllc.com/adding-css-and-javascript-to-an-angular-2-cli-project/">Adding CSS and JavaScript to an Angular CLI Project</a></li>
</ul>
<p>Drop into command line mode and run <code>ng test</code> The first thing you will notice is that this brings up the Chrome browser to run your test.  I don’t know about you, but I really dislike having a browser window up.  I have enough windows running on my screen as it is.  This is the first thing we need to fix.  To do this we are going to install PhantomJS. <code>npm install --save-dev phantomjs-prebuilt</code> Then, we need to tell karma to use PhantomJS.  This is a two step process.  First, we install the karma phantomjs runner <code>npm install --save-dev karma-phantomjs-launcher</code> Next, we modify the karma.conf.js file Change <code>require(&#39;karma-chrome-launcher&#39;),</code> and <code>browsers: [&#39;Chrome&#39;],</code> To <code>require(&#39;karma-phantomjs-launcher&#39;),</code> and <code>browsers: [&#39;PhantomJS&#39;],</code> Last, since we are not using the browser, we will need a better reporting mechanism. To do this we will install spec reporter. <code>npm install --save-dev karma-spec-reporter</code> and we replace this line in karma.conf.js</p>
<p>reporters: config.angularCli &amp;&amp; config.angularCli.codeCoverage<br>          ? [‘progress’, ‘karma-remap-istanbul’]<br>          : [‘progress’],</p>
<p>with</p>
<p>reporters: config.angularCli &amp;&amp; config.angularCli.codeCoverage<br>          ? [‘spec’, ‘karma-remap-istanbul’]<br>          : [‘spec’],</p>
<p>And we add a require line at the top of the file with the other requires <code>require(&#39;karma-spec-reporter&#39;),</code> Now, when we run <code>ng test</code> We get a nice text report in our terminal windows instead of the browser popping up.</p>
<h2 id="Code-Coverage"><a href="#Code-Coverage" class="headerlink" title="Code Coverage"></a>Code Coverage</h2><p>To get a code coverage report for our test use the command ng test –cc The code coverage files will end up in a directory named ‘coverage’ hanging off the root of your project.  You can view the coverage/index.html file to see how well your files are covered.</p>
<h2 id="Testing-Components"><a href="#Testing-Components" class="headerlink" title="Testing Components"></a>Testing Components</h2><p>For the purposes of this article, I’m going to assume you have some familiarity with creating Jasmine tests.  If you don’t the documentation for Jasmine is pretty easy to understand. But what I do want to cover here is how we test components. If you open up the <code>app.component.spec.ts</code> file, you’ll notice a <code>TestBed</code> class that gets used quite a bit.  Since your test isn’t going to test modules because they only package our other code together, you need some way of faking that out so you can test the components.  To do that, you use <code>TestBed.configureTestingModule(</code> { declarations: [ AppComponent ] }); Which just sets up the declarations you need to reference the component you need to test.  You can put anything in this block that you would normally put in your module definition. Another <code>TestBed</code> method you’ll see is <code>TestBed.createComponent()</code>, which you probably have guessed, creates an instance of the module so you can test it.  The object it creates has a <code>debugElement</code> property hanging off of it.  There are two properties that hang off this object that you’ll make use of a lot.  <code>componentInstance</code> is the actual instance of the component that you created.  Any properties and methods that your component has will be available off of <code>componentInstance</code>. The other object that will be available is <code>nativeElement</code>.  This is the DOM element that the component renders to and you can use <code>querySelector(cssSelectorGoesHere)</code> to select the first element matches the selector or <code>querySelectorAll(cssSelectorGoesHere)</code> to retrieve an array of elements that match. Of course, a test isn’t any good if you don’t make changes to the component and test for them.  And for that we have <code>detectChanges()</code>.  You’ll see that being used in the third test.  You’ll want to use that before you <code>expect()</code> anything.</p>
<h2 id="Ready-Set-…"><a href="#Ready-Set-…" class="headerlink" title="Ready, Set, …"></a>Ready, Set, …</h2><p>Now that we have some way of testing our code, we can actually begin to write so.  Don’t forget to subscribe to the email I sent out so you don’t miss the next article in this series. Code so far is located at <a href="//github.com/DaveMBush/GettingStartedWithAngular2/tree/Step2">https://github.com/DaveMBush/GettingStartedWithAngular2/tree/Step2</a></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/unit-testing-an-angular-2-cli-project/" data-id="cjj1pqyn500v2tkhil3ao7usk" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular-2/">angular 2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/typescript/">typescript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/unit-test/">unit test</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-whats-the-truth-about-running-asp-net-webapi-asynchronously" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/what’s-the-truth-about-running-asp-net-webapi-asynchronously/">What’s the Truth about Running ASP.NET WEBAPI Asynchronously?</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/what’s-the-truth-about-running-asp-net-webapi-asynchronously/" class="article-date"><time datetime="2016-11-15T12:30:00.000Z" itemprop="datePublished">2016-11-15</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ASP-NET/">ASP.NET</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>When Node.JS started getting popular, one of the major benefits people were proclaiming about it is that the web servers running under Node.JS were all processing the request asynchronously.  This is how a single threaded environment was able to handle a significant load without falling over.  Cool!  So, you might wonder how does ASP.NET process request?  It processes code synchronously.  So, one might assume that if there were a way of running code asynchronously, we might be able to improve the performance of our applications.  But can we?  And if we can, is it worth it? [caption id=”” align=”aligncenter” width=”640”]<img src="//blog.dmbcllc.com/wp-content/uploads/2016/11/image-2.png" alt="What’s the Truth about Running ASP.NET WEBAPI Asynchronously?" title="What’s the Truth about Running ASP.NET WEBAPI Asynchronously?"> Photo via <a href="//visualhunt.com/">VisualHunt</a>[/caption] </p>
<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>The general idea of an asynchronous request is that a thread handles the incoming requests and immediately fires up another thread to handle the request.  When the processing thread is done, it calls a callback function to notify the request thread that it is ready to send data back to the client.  Meanwhile, the request thread has been able to handle additional request from additional clients.  In contrast, a synchronous request processes the request itself so it is unable to handle any additional request. In Node.JS, this is important because there is only one thread.  It handles all of the request.  If we had blocked, there would be no way of processing additional incoming request. In ASP.NET, we are running in a system that can run multiple thread per process.  So, we are able to handle multiple request because each thread is handled by a different thread.  The problem, however, is that there are a limited number of threads that we can spawn per process and eventually we are handling so much traffic that we can’t handle any more.  The longer our request take to respond, the more likely we are to experience this problem. Imagine the kind of through put we could get on an ASP.NET application if we could make it run asynchronously, more like how Node.JS does.</p>
<h2 id="So-What’s-the-Problem"><a href="#So-What’s-the-Problem" class="headerlink" title="So What’s the Problem?"></a>So What’s the Problem?</h2><p>So, all of this sounds really good.  But then when I went to try to find out how it works, I stumbled on a Stack Overflow question that basically indicated that it shouldn’t work.  This, along with a project I was working on, lead me down the road of testing it for myself.  Lesson: “Just because someone says something is true, doesn’t mean it is!”</p>
<h2 id="The-Test"><a href="#The-Test" class="headerlink" title="The Test"></a>The Test</h2><h3 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h3><p><strong>WestWind Web Surge (WWWS)</strong> <a href="//websurge.west-wind.com/">http://websurge.west-wind.com/</a> Simple load testing tool. Add a URL, set number of threads to run concurrently, run, check report. There is a command line version you can use as well. <strong>Strathweb.CacheOutput</strong> There is a version for WEB API v1 and v2. This allows us to add server and client side caching information to REST end points. <strong>Web Server</strong> I’m using the web server built into Visual Studio 2015.  I’m assuming IIS performs similarly. All of the tests were run on an 8 core computer with 16 gig of RAM.  The numbers are for relative comparison.  Your tests may show slightly different results.</p>
<h3 id="Baseline"><a href="#Baseline" class="headerlink" title="Baseline"></a>Baseline</h3><p>For a baseline, I ran WWWS against this end point:</p>
<p>public IEnumerable&lt;string> Get() {<br>    System.Threading.Thread.Sleep(1000);<br>    return new string[] { “value1”, “value2” };<br>}</p>
<p>Notice that while I am returning static information, I am simulating processing time with the Sleep() method. This makes it look like it took a minute to process the information prior to returning the information from the server. I could run WWWS against the end-point for 20 seconds at a rate of 100 threads at a time without any errors. However, I was only able to achieve 28 request per second with an average response time of 4 seconds. Pretty slow once you see the optimizations.</p>
<h3 id="Asynchronous-Optimization"><a href="#Asynchronous-Optimization" class="headerlink" title="Asynchronous Optimization"></a>Asynchronous Optimization</h3><p>The next test was to see what performance improvements I could get by running the end-point asynchronously.</p>
<p>public async Task&lt;IEnumerable<string>> Get(){<br>    await Task.Delay(1000);<br>    return new string[] { “value1”, “value2” };<br>}</string></p>
<p>Note: you cannot just add the <code>async</code> keyword to the method, you must also have code you are <code>await</code>-ing inside your method. Otherwise the code will fall back to the baseline code. This is why I replaced Sleep() with Task.Delay(). It gives me something to await, while still waiting for a second prior to returning from the request. Keeping all of the parameters the same and running this code, request per second improved to 97. Average response time was just over 1 second. I wasn’t able to get any failures within 20 seconds until I set simultaneous threads to 2000. At 1900 simultaneous threads the average response time was 9 seconds and the request processed per second was 444. So while the response time was longer, more items were able to be processed by simply making the call asynchronous. So, that seems to prove that making the request asynchronous improves the performance.</p>
<h2 id="Even-Better-Performance"><a href="#Even-Better-Performance" class="headerlink" title="Even Better Performance"></a>Even Better Performance</h2><p>But wait!  There’s more. What would it be like if we added caching onto this? By using the <code>CacheOutput</code> mechanism, we gain further benefit. While it might be difficult to add this in every situation, at least for static output this is something to be considered. I used the Strathweb implementation because it most closely implemented what had previously been available for WebForms and it now available in .NET Core The code</p>
<p>[CacheOutput(ClientTimeSpan = 50000,ServerTimeSpan = 50000)]</p>
<p>public async Task&lt;IEnumerable<string>> Get()<br>{<br>    await Task.Delay(1000);<br>    return new string[] { “value1”, “value2” };<br>}</string></p>
<p>While WWWS doesn’t allow us to test client caching, it does allow us to test server caching. In the code above I set the cache time to 50 seconds. Using the same 1900 threads as before, the average response time was 6 seconds with an average request processed per second of 347. I gave up maxing out the system at 3200 threads. This was returning results on average after 10 seconds of the request with request processed per second of 344. If you were able to implement smart caching so new data was returned from the server only when something had actually changed, I’m sure you could achieve similar results with data that changed more frequently than your basic lookup tables.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://davembush.github.com/what’s-the-truth-about-running-asp-net-webapi-asynchronously/" data-id="cjj1pqyqc00xvtkhi41n7x7dp" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net/">asp.net</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/async/">async</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/await/">await</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webapi/">webapi</a></li></ul>


    </footer>
  </div>
  
</article>



  


  <div id="page-nav">
    <nav><ul class="pagination"><li><a class="page-prev" rel="prev" href="/page/5/"><i class="fa fa-chevron-left"></i> Prev</a></li><li><a class="page-number" href="/">1</a></li><li class="disabled"><span class="page-space">&hellip;</span></li><li><a class="page-number" href="/page/4/">4</a></li><li><a class="page-number" href="/page/5/">5</a></li><li class="active"><span class="page-number">6</span></li><li><a class="page-number" href="/page/7/">7</a></li><li><a class="page-number" href="/page/8/">8</a></li><li class="disabled"><span class="page-space">&hellip;</span></li><li><a class="page-number" href="/page/31/">31</a></li><li><a class="page-next" rel="next" href="/page/7/">Next <i class="fa fa-chevron-right"></i></a></li></ul></nav>
  </div>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  
  <div class="sidebar-module">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/vmware-s-clarity-design-system-for-angular/">VMWare&#39;s Clarity Design System for Angular</a>
        </li>
      
        <li>
          <a href="/the-full-stack-developer-myth/">The Full Stack Developer Myth</a>
        </li>
      
        <li>
          <a href="/how-you-do-anything/">How you do Anything ...</a>
        </li>
      
        <li>
          <a href="/property-based-testing-in-angular-with-jsverify/">Property Based Testing in Angular with jsVerify</a>
        </li>
      
        <li>
          <a href="/property-based-testing-revealed-a-better-way-to-test/">Property Based Testing Revealed - A Better Way to Test</a>
        </li>
      
    </ul>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/03/">March 2018</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/02/">February 2018</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/01/">January 2018</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/12/">December 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/11/">November 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/10/">October 2017</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/09/">September 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/08/">August 2017</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">July 2017</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/06/">June 2017</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/05/">May 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/04/">April 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/03/">March 2017</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/02/">February 2017</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/01/">January 2017</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/12/">December 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/11/">November 2016</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">October 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">September 2016</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/08/">August 2016</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/07/">July 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/06/">June 2016</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/05/">May 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/04/">April 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/03/">March 2016</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/02/">February 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/01/">January 2016</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/12/">December 2015</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/11/">November 2015</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/10/">October 2015</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/09/">September 2015</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/08/">August 2015</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/07/">July 2015</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/06/">June 2015</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/05/">May 2015</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/04/">April 2015</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/03/">March 2015</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/02/">February 2015</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/01/">January 2015</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/12/">December 2014</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/11/">November 2014</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/10/">October 2014</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/09/">September 2014</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/08/">August 2014</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/07/">July 2014</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/06/">June 2014</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/05/">May 2014</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/04/">April 2014</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/03/">March 2014</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/02/">February 2014</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/01/">January 2014</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/12/">December 2013</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/11/">November 2013</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/10/">October 2013</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/09/">September 2013</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/08/">August 2013</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/07/">July 2013</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/06/">June 2013</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/05/">May 2013</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/03/">March 2013</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/02/">February 2013</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/01/">January 2013</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2012/12/">December 2012</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2012/09/">September 2012</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2012/08/">August 2012</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2012/04/">April 2012</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2010/10/">October 2010</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2010/08/">August 2010</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2010/04/">April 2010</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2010/03/">March 2010</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/12/">December 2009</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/11/">November 2009</a><span class="sidebar-module-list-count">7</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/10/">October 2009</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/09/">September 2009</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/08/">August 2009</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/07/">July 2009</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/06/">June 2009</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/05/">May 2009</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/04/">April 2009</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/03/">March 2009</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/02/">February 2009</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2009/01/">January 2009</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/12/">December 2008</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/11/">November 2008</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/08/">August 2008</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/07/">July 2008</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/06/">June 2008</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/05/">May 2008</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/04/">April 2008</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/02/">February 2008</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2008/01/">January 2008</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2007/11/">November 2007</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2007/10/">October 2007</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>




        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2018 Dave M Bush<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>



<script src="/js/script.js"></script>

</body>
</html>
