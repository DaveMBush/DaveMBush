{
    "version": "https://jsonfeed.org/version/1",
    "title": "Dave's Notebook • All posts by \"specflow\" category",
    "description": null,
    "home_page_url": "http://davembush.github.com",
    "items": [
        {
            "id": "http://davembush.github.com/setting-up-specflow/",
            "url": "http://davembush.github.com/setting-up-specflow/",
            "title": "Setting up SpecFlow",
            "date_published": "2015-05-21T10:00:00.000Z",
            "content_html": "<p>I’ve been asked to train a group of developers in the use of <a href=\"//www.specflow.org/\">SpecFlow</a> so that they can use it to write Selenium Tests.  So, in an attempt to “kill two birds with one stone” I thought today’s post would cover how to get the SpecFlow environment setup.  Not only will it help me prepare for the training session I will be leading, but it will help me when I need to set this up the next time because it tends to be a bit confusing when you setup a new project.  You’ll see why in a bit.</p>\n<h2 id=\"Installing-SpecFlow\"><a href=\"#Installing-SpecFlow\" class=\"headerlink\" title=\"Installing SpecFlow\"></a>Installing SpecFlow</h2><span id=\"more\"></span>\n\n<p>The first thing you’ll want to do is to install the SpecFlow Visual Studio integration.  You do this by navigating to “Tools” –&gt; “Extension and Updates …” <img src=\"/uploads/2015/05/image.png\" alt=\"image\" title=\"image\"> This will bring up a dialog box where you’ll want to select the “Online” branch <img src=\"/uploads/2015/05/image1.png\" alt=\"image\" title=\"image\"> You will notice in the upper right corner of this dialog, a search box.  Type in “SpecFlow” to find the SpecFlow extensions.</p>\n<p><img src=\"/uploads/2015/05/image2.png\" alt=\"image\" title=\"image\"> In the image above, I’ve already installed it, so there is a check box.  You’ll want to click the “Download” or “Install” button that displays when it isn’t installed.</p>\n<h2 id=\"Creating-a-Test-Project\"><a href=\"#Creating-a-Test-Project\" class=\"headerlink\" title=\"Creating a Test Project\"></a>Creating a Test Project</h2><p>Now that you’ve installed the extension, you can create a new test project.  You might expect a SpecFlow template to appear somewhere in the project list.  Sorry, that’s not what you get.  You could create one yourself if you really wanted.  To create a SpecFlow project, all you really need to do is to create a Class Library project.</p>\n<p><img src=\"/uploads/2015/05/image3.png\" alt=\"image\" title=\"image\"></p>\n<h2 id=\"Adding-a-Reference\"><a href=\"#Adding-a-Reference\" class=\"headerlink\" title=\"Adding a Reference\"></a>Adding a Reference</h2><p>And now, this is where I always get tripped up for a minute.  You can create a new feature file, but there is a menu item you should see that will allow you to add feature steps to a class file and you won’t see that until you add a reference to SpecFlow.  To do that, you will need to go back to NuGet.  This time use the menu option, “Tools” –&gt; “NuGet Package Manager” –&gt; “Manage NuGet Packages for Solution…”</p>\n<p><img src=\"/uploads/2015/05/image4.png\" alt=\"image\" title=\"image\"></p>\n<p>Once again a dialog will display.  Make sure you are in the “Online” branch on the left and type “SpecFlow” into the search area in the upper right corner of the dialog.</p>\n<p><img src=\"/uploads/2015/05/image5.png\" alt=\"image\" title=\"image\"></p>\n<p>I always use SpecFlow with NUnit, if you install SpecFlow.NUnit it will automatically install the SpecFlow dependencies with it.  If you prefer to use xUnit, you can install that and the SpecFlow dependencies will install automatically.</p>\n<h2 id=\"Create-Your-First-Feature-File\"><a href=\"#Create-Your-First-Feature-File\" class=\"headerlink\" title=\"Create Your First Feature File\"></a>Create Your First Feature File</h2><p>Now that you have the environment setup, you can actually use SpecFlow.  To create your first feature file, you can right click on the project and select “Add” –&gt; “New Item…” from the context menu.  Just like you would add a new file to the project any other time.  From the resulting dialog, select “SpecFlow Feature File”, give it an appropriate file name, and click the “Add” button.  When I name my SpecFlow feature files, I try to name them similar to the feature it will be testing.</p>\n<p><img src=\"/uploads/2015/05/image6.png\" alt=\"image\" title=\"image\"></p>\n<p>The resulting feature file will have a sample of how your feature will be setup.  You will want to change this to test whatever it is you are testing.  The next thing you will want to do is to create a Step Definition file.  This is a regular C# file with a Binding attribute added.  The file that SpecFlow will generate for you will match the template they provided in the feature file.  What I want you to do next is the delete all of the methods in the class so that I can show you how to add additional methods.  I’m not going to go to the trouble of showing you the screen shots.  I figure you know how to get to it and the image above shows it listed in the “Add File” dialog.</p>\n<p>Next, go back to your feature file and right click on the provided “Given” line, you should see a menu option that says, “Generate Step Definitions”</p>\n<p><img src=\"/uploads/2015/05/image7.png\" alt=\"image\" title=\"image\"></p>\n<p>If you click this, you’ll get a dialog like this:</p>\n<p><img src=\"/uploads/2015/05/image8.png\" alt=\"image\" title=\"image\"></p>\n<p>A couple of things you should notice.  One is the name of the class you are going to create if you click the “Generate” button.  I would advise against using the generate button.  Instead, we are going to use the “Copy methods to clipboard” method.  If you want to try to keep things segmented, you might choose to copy some of the steps to the clipboard and paste them into one file and copy others and paste them into another file.  This list will only list steps that you don’t already have definitions for, so you don’t need to worry about producing duplicate definitions.</p>\n<p>If you copy the methods onto the clipboard and paste them into the step file, you should end up with code that is functionally equivalent to what the new file template created for you.</p>\n<h2 id=\"Just-A-Start\"><a href=\"#Just-A-Start\" class=\"headerlink\" title=\"Just A Start\"></a>Just A Start</h2><p>This is enough to get you setup, but there is more to cover, so make sure you subscribe to the mailing list to get notified when I post another article about SpecFlow.</p>\n",
            "tags": [
                "tdd",
                "testing",
                "bdd",
                "specflow"
            ]
        },
        {
            "id": "http://davembush.github.com/specflow-strategy/",
            "url": "http://davembush.github.com/specflow-strategy/",
            "title": "SpecFlow Strategy",
            "date_published": "2015-01-01T12:00:00.000Z",
            "content_html": "<p>A while ago I wrote an article <a href=\"/what-is-specflow/\">explaining what SpecFlow is, and why you might want to use it</a>.  I’ve been using it for several months now and I’ve recognized several patterns that have emerged in my usage that I wish I had known when I started, so I thought I’d share them with you today.</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Small-Features\"><a href=\"#Small-Features\" class=\"headerlink\" title=\"Small Features\"></a>Small Features</h2><p>If you are used to BDD or even unit testing, this will be obvious.  But if you are new to all of this, the temptation is going to be to put all of your test in one feature.  While this works in the strictest sense of the word, and you are at least getting test in place, you will find that finding a specific test later on is going to be rather awkward.</p>\n<p>A feature file should really only have a few scenarios that are testing a particular feature in the system.  This is why, at the top of your feature file, you are stating what exactly the feature is:</p>\n<p>As an administrator<br>I need to be able to delete existing users<br>So they cannot access the system any more</p>\n<p>Which we would probably put in the “DeleteUser.feature” file. Now that we’ve specified the feature, we need one or more scenarios for this. Each scenario is going to test the various ways you might be able to delete a user.  Maybe you can check boxes and delete them all at once or you can click one button per user and delete them one at a time.  Each of those is a scenario.  So your scenarios might look like this:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Scenario: Delete one user at a time</span><br><span class=\"line\">    Given I have 10 users in the system</span><br><span class=\"line\">    And I have logged in as an administrator</span><br><span class=\"line\">    And I have navigated to the user admin page</span><br><span class=\"line\">    When I click the first delete user button</span><br><span class=\"line\">    Then I only have 9 users in the system</span><br><span class=\"line\">    And I remain on the user admin page</span><br><span class=\"line\"></span><br><span class=\"line\">Scenario: Delete one users at a time with checkbox</span><br><span class=\"line\">    Given I have 10 users in the system</span><br><span class=\"line\">    And I have logged in as an administrator</span><br><span class=\"line\">    And I have navigated to the user admin page</span><br><span class=\"line\">    When I check the checkbox of the first user</span><br><span class=\"line\">    And I click the delete checked users button</span><br><span class=\"line\">    Then I only have 9 users in the system</span><br><span class=\"line\">    And I remain on the user admin page</span><br><span class=\"line\"></span><br><span class=\"line\">Scenario: multiple users at a time using the checkbox</span><br><span class=\"line\">    etc ...</span><br></pre></td></tr></table></figure>\n\n<p>What about sad path test?  You’ll need to determine if those are another feature or if they are somehow part of the feature you are working on.  For this test, I can’t think of a sad path test for deleting users that is generally applicable.  Most of the time, if you have something that should occur as part of deleting a user, you should be doing that as part of the delete process.</p>\n<h2 id=\"Don’t-Repeat-Yourself\"><a href=\"#Don’t-Repeat-Yourself\" class=\"headerlink\" title=\"Don’t Repeat Yourself\"></a>Don’t Repeat Yourself</h2><p>The next place you are likely to make a mistake as you learn how to use SpecFlow is that you’ll start out thinking of the feature file, the steps implementation for the features and any setup or teardown of the scenarios as all one unit.  As a result of this, you’ll tend to implement the steps and the setup and teardown (what SpecFlow implements as Before and After) all in one file.</p>\n<p>The problem with this is that you’ll end up with a lot of duplicate code in your tests.</p>\n<p>Now, let’s say each of your features have similar setup code you need to implement.  In the case of our user administration example that we started out with, you’ll have code you need to implement for adding a user, deleting a user, adding roles to a user, searching for a user, and probably more.</p>\n<p>For each of those, your Before code is all going to look the same.  So, what I would recommend that you do is create a separate file with your Before and After code in it, nothing more.  You will associate this file with your feature files by associating a category with it and using the category in your feature files.  Now for each feature, the same Before and After code will run.</p>\n<p>The other issue you are going to have is that you are going to have a lot of the same steps between the feature files.  However, my experience has been that there will be a lot more common features between the code I write for a particular screen than there will be for the Before and After code I write.  For example, I might right Before code for various roles</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">As a regular user</span><br><span class=\"line\">When I visit the user administration screen</span><br><span class=\"line\">I should not be able to view any user other than myself.</span><br></pre></td></tr></table></figure>\n\n<p>That will require different setup code from “As an administrator” but the steps to implement the scenarios will probably be very similar.</p>\n<p>Therefore, you should have a step file that holds all the steps for a screen full of logic in a file separate from your Before and After logic.</p>\n",
            "tags": [
                "tdd",
                "programming",
                "test driven development",
                "specflow"
            ]
        },
        {
            "id": "http://davembush.github.com/what-is-specflow%E2%80%A6/",
            "url": "http://davembush.github.com/what-is-specflow%E2%80%A6/",
            "title": "What is SpecFlow…",
            "date_published": "2014-06-12T17:30:00.000Z",
            "content_html": "<h2 id=\"…And-why-do-I-want-it\"><a href=\"#…And-why-do-I-want-it\" class=\"headerlink\" title=\"…And why do I want it?\"></a>…And why do I want it?</h2><p><img src=\"/uploads/2014/06/SpecFlow.png\" alt=\"SpecFlow\" title=\"SpecFlow\">That’s what I kept asking myself every time I saw this product. Well, the last time I looked, something caught my eye enough that I decided to download it and take a look. I’m really glad I did it. So, let me attempt to explain what <a href=\"//www.specflow.org/\">SpecFlow</a> is.  First, while you can get SpecFlow+ Runner to run your test, this isn’t a completely new testing platform. Instead, it is a testing platform that works with whatever testing platform you are using to test your .NET code. So, it works with NUnit, MSTest, xUnit and MbUnit. This is good for my situation because any test I write with SpecFlow will continue to work with the tools I already have in place. Including my current test runners (<a href=\"//www.jetbrains.com/resharper/\">ReSharper</a>) and my Continuous Integration system (<a href=\"//www.jetbrains.com/teamcity/\">TeamCity</a>). I wasn’t interested in adopting a platform that wouldn’t work with these two platforms.</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Where-I-got-Confused\"><a href=\"#Where-I-got-Confused\" class=\"headerlink\" title=\"Where I got Confused\"></a>Where I got Confused</h2><p>Now the part that kept me from looking at this framework for such a long time was the <a href=\"//www.specflow.org/\">home page</a>. If you go there, you will see the “Three easy steps.” 1) Specify, 2) Automate, 3) enjoy. Well, at first glance it looked like was going to have to write my test in English and then write my test in code and then I could enjoy. Why would I want to do that? So, the part they forgot to mention is that once you’ve specified your test, the Visual Studio plugin will generate your test code for you. For NUnit it actually writes the NUnit test for you. The code you do have to write is the code that translates the individual steps. But even that code gets stubbed out for you. Once you have enough of those stubbed out, to write a test, you just write the test in English, save the file, and run the test. Now that I finally understand this, I like most of what SpecFlow does. But there are a few things I wish it did differently.</p>\n<h2 id=\"What-I-like\"><a href=\"#What-I-like\" class=\"headerlink\" title=\"What I like:\"></a>What I like:</h2><ol>\n<li>It puts my test in a Given, When, Then structure like I mentioned a few weeks ago. 2) The class files it generates are all partial classes. This allowed me to keep my inheritance structure that I’m dependent on for my current NUnit testing framework. And allowed me to work around one of the shortcomings I’ve found. 3) The methods are all virtual, again, allowing for extension and flexibility. 4) Intellisense is enabled so you can see similar sentences you’ve already used as you are creating new test. 5) You can create tables of parameters for test scenarios, similar to how you can pass multiple parameters to an NUnit test with the TestCase attribute or the TestCaseSource attribute. 6) To write the supporting CSharp, code I didn’t have to learn anything new. 7) I can give the English language, none code, document to the business user and they should be able to read the test well enough to tell me if the test is an accurate reflection of what they want the system to do.</li>\n</ol>\n<h2 id=\"What-I-don’t-like\"><a href=\"#What-I-don’t-like\" class=\"headerlink\" title=\"What I don’t like:\"></a>What I don’t like:</h2><ol>\n<li>I’ve become pretty dependent on the NUnit TestFixture attribute that allows me to pass parameters to the entire test. I use this to control the testing of multiple browsers. But, I’ve recently figured out a way to run all of my browsers simultaneously rather than sequentially so I won’t need this feature in the pretty near future. Once I’ve got that working, you can be sure I’ll share it here. So, don’t forget to subscribe to this blog if you haven’t already.</li>\n</ol>\n",
            "tags": [
                "tdd",
                "testing",
                "nunit",
                "specflow",
                "mstest"
            ]
        }
    ]
}