{
    "version": "https://jsonfeed.org/version/1",
    "title": "Dave's Notebook • All posts by \"each\" tag",
    "description": null,
    "home_page_url": "http://davembush.github.com",
    "items": [
        {
            "id": "http://davembush.github.com/jquery-each-and-async-gets/",
            "url": "http://davembush.github.com/jquery-each-and-async-gets/",
            "title": "jQuery, Each() and Async Gets",
            "date_published": "2009-12-02T11:50:54.000Z",
            "content_html": "<p><img src=\"/uploads/2009/12/H04K0067.jpg\" alt=\"H04K0067\" title=\"H04K0067\"></p>\n<p>One of the things to keep in mind when using jQuery is that nothing is a blocking call.  Sure, there is a certain sequence to when things operate.  But, to be safe, you should always assume that step two will happen during step one.</p>\n<p>Nowhere is this more evident than when retrieving content from a URL and inserting that content in your page.</p>\n<p>The temptation is to write code that looks something like this:</p>\n<span id=\"more\"></span>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $.<span class=\"title function_\">each</span>(json, <span class=\"keyword\">function</span>(<span class=\"params\">index, entry</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    jQuery.<span class=\"title function_\">get</span>(entry[<span class=\"string\">&#x27;url&#x27;</span>], <span class=\"keyword\">function</span>(<span class=\"params\">html</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// insert the HTML here.</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>The problem with this is that jQuery.get is an asynchronous call.  This means that once the get has fired, the each loop will continue.  This can cause all kinds of trouble for you, including having a complete iteration skipped, or if you are doing some kind of concatenation prior to inserting the HTML, having HTML for one iteration showing up in the middle of another.</p>\n<p>Not exactly what you had in mind, eh?</p>\n<p>But there is a fix.  Use the <em>ajax</em> call instead and specify <em>async:false</em> to force the call to complete before allowing another call.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$.<span class=\"title function_\">each</span>(json, <span class=\"keyword\">function</span>(<span class=\"params\">index, entry</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    jQuery.<span class=\"title function_\">ajax</span>(&#123; <span class=\"attr\">url</span>:  directory + <span class=\"string\">&#x27;/&#x27;</span> + entry[<span class=\"string\">&#x27;url&#x27;</span>] , <span class=\"attr\">success</span>: <span class=\"keyword\">function</span>(<span class=\"params\">html</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// insert the HTML here.</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, <span class=\"attr\">async</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>Note too that using <em>ajax</em> without the <em>async</em>: false is the same as just using get.</p>\n",
            "tags": [
                "ajax",
                "get",
                "jQuery",
                "async",
                "each"
            ]
        }
    ]
}