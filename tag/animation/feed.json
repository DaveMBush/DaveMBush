{
    "version": "https://jsonfeed.org/version/1",
    "title": "Dave's Notebook • All posts by \"animation\" tag",
    "description": null,
    "home_page_url": "http://davembush.github.com",
    "items": [
        {
            "id": "http://davembush.github.com/secrets-to-styling-angular2/",
            "url": "http://davembush.github.com/secrets-to-styling-angular2/",
            "title": "Secrets to Styling Angular2",
            "date_published": "2017-01-31T12:30:00.000Z",
            "content_html": "<p>This past week, while working on a new project, I discovered some secrets to styling Angular2 that I don’t think are very well-known.</p>\n<p>There are two specific issues I needed to solve this week that took a bit of digging. The first was that I wanted my routes to fade in and out as I move between routes. The second was that I was using a grid control from a third party and I needed to style an inner component. We will cover both as well as some more basic operations.</p>\n<figure>![](/uploads/2017/01/image-2.png \"Secrets to Styling Angular2\") Photo via [Visual hunt](//visualhunt.com/)</figure>\n\n<span id=\"more\"></span>\n\n<h2 id=\"Angular2-Version\"><a href=\"#Angular2-Version\" class=\"headerlink\" title=\"Angular2 Version\"></a>Angular2 Version</h2><p>Just so there isn’t any confusion, this article is accurate for Angular 2.x as of 2.5</p>\n<h2 id=\"The-Basics\"><a href=\"#The-Basics\" class=\"headerlink\" title=\"The Basics\"></a>The Basics</h2><p>Just to make sure we have the basics covered, we want to start with generic styling. The temptation might be to style each of your components independently. This would be a mistake. Angular2 doesn’t throw out all the existing CSS rules. Instead, it adds to them. Therefore, anything you can do with a generic style should be handled at that level.</p>\n<p>Since I generally use Bootstrap to theme my applications, this is what I’ll reference here. Using the angular-cli, the way you would add the CSS theme information is to include it in the angular-cli.json file of your application in the “styles” section.</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;styles&quot;: [</span><br><span class=\"line\">  <span class=\"string\">&quot;../node_modules/bootstrap/dist/css/bootstrap.css&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;styles.css&quot;</span></span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n\n<p>If you have a component that you need to style in a way that is outside the bounds of the general CSS you’ve included, you can add CSS to the components CSS file. This all works as expected with one small exception. The CSS you add to this file only applies to the component and will override any other CSS that might already be applied by the general CSS.</p>\n<p>This is Angular2 CSS 101 stuff. I’ve written pretty extensively about this in the article “<a href=\"https://medium.com/@davembush/adding-css-and-javascript-to-an-angular-cli-project-2b843a8283f3\">Adding CSS and JavaScript to an Angular-CLI Project</a>”</p>\n<h2 id=\"Host-access\"><a href=\"#Host-access\" class=\"headerlink\" title=\"Host access\"></a>Host access</h2><p>But there are times when the thing you want to style is the host container of the component. Not just the HTML inside it. There are two ways that you might do this.</p>\n<h3 id=\"host\"><a href=\"#host\" class=\"headerlink\" title=\":host\"></a>:host</h3><p>The first way is to use the <code>:host</code> directive in your CSS. But you’ll need to be careful with this, as I found out recently.</p>\n<p>You see, you might expect that</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-pseudo\">:host</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: blue;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>would cause the background color of the element to turn blue. But if you try that with a simple component you’ll find out that nothing shows up with a background color of blue because by default an element that isn’t part of the HTML spec has no size and basically disappears from the display. We want it to display an essentially be a container for all our other HTML so what you really want to do is something like:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-pseudo\">:host</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: blue;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: auto;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: auto;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>The only way it will show up, in my experience, is to make the position ‘absolute.’ Remember, we are doing this only because we want the :host to have some impact as a container for all the other elements that might be in it. Normally, you can get by styling the html inside it.</p>\n<h3 id=\"HostBinding\"><a href=\"#HostBinding\" class=\"headerlink\" title=\"@HostBinding()\"></a>@HostBinding()</h3><p>An alternate way of setting style on the component container is by using the @HostBinding() decorator. What this does is that it binds a variable to the containers attribute so that you can change the value from your TypeScript code.</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Component(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">&#x27;app-view&#x27;</span>,</span><br><span class=\"line\">  templateUrl: <span class=\"string\">&#x27;./view.component.html&#x27;</span>,</span><br><span class=\"line\">  styleUrls: [<span class=\"string\">&#x27;./view.component.css&#x27;</span>]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">export <span class=\"keyword\">class</span> <span class=\"title\">ViewComponent</span> <span class=\"title\">implements</span> <span class=\"title\">OnInit</span> &#123;</span><br><span class=\"line\">  @HostBinding(<span class=\"string\">&#x27;style.backgroundColor&#x27;</span>)</span><br><span class=\"line\">    backgroundColr = <span class=\"string\">&#x27;blue&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  constructor() &#123; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnInit() &#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Child-Elements\"><a href=\"#Child-Elements\" class=\"headerlink\" title=\"Child Elements\"></a>Child Elements</h2><p>Now, the other problem you might run into is that you’ll be using some third-party control and you’ll want to style some container element inside of it to fit your needs. Again, this isn’t a particularly common problem, but it might just take you a while to find the answer.</p>\n<p>The first thing you may try is to just style the markup.</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">component-parent component-child &#123;</span><br><span class=\"line\">    <span class=\"comment\">/* style stuff here */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>But, try as you might, you’ll never get those styles to show up. You can style the <code>component-parent</code> all you want, but not the <code>component-child</code> no matter what you do.</p>\n<p>Here is the trick that allows you to style the <code>component-child</code>:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">component-parent &gt;&gt;&gt; component-child &#123;</span><br><span class=\"line\">    /\\* style stuff here */</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>That <code>&gt;&gt;&gt;</code> thing is call the “piercing” operator. All you need to know is that it is how you get the child elements styled.</p>\n<h2 id=\"Animations\"><a href=\"#Animations\" class=\"headerlink\" title=\"Animations\"></a>Animations</h2><p>You might wonder, at first, why we would need an Animation API in Angular2. Aren’t CSS animations good enough? Well, actually… It isn’t that CSS animations aren’t good enough, but because Angular2 “hide” and “shows” elements by putting them into and out of the DOM and does other DOM manipulations that conflict with CSS animations, you will find there are time you are going to need to use the Angular2 Animation API.</p>\n<p>The Animation API works in a similar way to how the CSS Animations work so this isn’t going to be a big stretch for you if you are already familiar with CSS Animations.</p>\n<p>To animate a component, you are going to need to add an animations section to the @Component decorator of your component:</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Component(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">&#x27;app-view&#x27;</span>,</span><br><span class=\"line\">  templateUrl: <span class=\"string\">&#x27;./view.component.html&#x27;</span>,</span><br><span class=\"line\">  styleUrls: [<span class=\"string\">&#x27;./view.component.css&#x27;</span>],</span><br><span class=\"line\">  animations: [</span><br><span class=\"line\">      <span class=\"comment\">/* animation definitions here */</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>The question then, is “how do we define an animation” Since animations is obviously an array, we want to know, what is it an array of? It is an array of triggers. A trigger has two parts. A name, an an array that specifies how the animation should work. This name gets used in our template using the [@name] syntax to bind to a component property.</p>\n<p>Next, we define each of the states we want to respond to and style we want to end up with when that state is triggered.</p>\n<p>Finally, we define each of the transitions.</p>\n<p>The combination gives us a lot of flexibility. While we can create the same kind of transitions that we might have using CSS, we can also create transitions the we never could have using CSS. All we need to do is have our component change the value of some member variable in some predictable way and the transitions will kick into work.</p>\n<p>You can read more about transitions on the <a href=\"//angular.io/docs/ts/latest/guide/animations.html\">Angular2 documentation page</a>.</p>\n<h2 id=\"Route-Animations\"><a href=\"#Route-Animations\" class=\"headerlink\" title=\"Route Animations\"></a>Route Animations</h2><p>Route animations are similar. However, this is where everything I’ve said above comes together.</p>\n<p>The first problem you are going to run into trying to animate a route is that the state you want to base your animations on is the route, which is the parent component of your component you are probably trying to animate. But the reality is, what you are really doing is animating something when it is first displayed and animating it again when it is going away. That is, when it is placed into the DOM and when it is being removed from the DOM. Angular2 has to predefined states for this, ‘:enter’ and ‘:leave’.</p>\n<p>So, we create a trigger named ‘routeAnimation’ and in our route components we bind to it using the @HostBinding() decorator.</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@HostBinding(<span class=\"string\">&#x27;@routeAnimation&#x27;</span>) routeAnimation = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure>\n\n<p>Everything else you need to know I’ve already discussed above.</p>\n<p>For more information about routing animations, you can check the <a href=\"//angular.io/docs/ts/latest/guide/router.html\">router documentation on the Angular2 documentation page</a>.</p>\n<h2 id=\"Finally\"><a href=\"#Finally\" class=\"headerlink\" title=\"Finally\"></a>Finally</h2><p>It took me way too long to figure this out because a lot of the information has changed since RC0. Hopefully, it will point you in the right direction.</p>\n",
            "tags": [
                "angular",
                "animation",
                "css"
            ]
        },
        {
            "id": "http://davembush.github.com/css-animation-resources/",
            "url": "http://davembush.github.com/css-animation-resources/",
            "title": "CSS Animation Resources",
            "date_published": "2014-10-30T10:00:00.000Z",
            "content_html": "<p>This week I discovered CSS Animations.  Well, I shouldn’t say I discovered it so much as I finally spent some time figuring out what it is and why I would care about it.  This could make so much of what we normally do in JavaScript entirely unnecessary.  So, more for my own benefit than anything else, I thought today I would just create a list of resources that are available. But first, why would you want to use CSS for animation when JavaScript could do it just as well?</p>\n<span id=\"more\"></span>\n\n<h2 id=\"CSS-and-HTML-live-in-the-same-world\"><a href=\"#CSS-and-HTML-live-in-the-same-world\" class=\"headerlink\" title=\"CSS and HTML live in the same world\"></a>CSS and HTML live in the same world</h2><p>As I mentioned a few weeks ago when I discussed JavaScript performance, anytime you manipulate the DOM from JavaScript, you have to cross the HTML&#x2F;JavaScript boundary.  And to do it right, you have to make sure you work in sync with the key frames that the DOM is living in.  If you don’t, at best you will be animating more than you need to if you use JavaScript to do the animation.  On a phone, this can eat up precious battery life.  For me, this is the biggest reason.</p>\n<h2 id=\"Declarative-Code-Is-Easier-To-Read\"><a href=\"#Declarative-Code-Is-Easier-To-Read\" class=\"headerlink\" title=\"Declarative Code Is Easier To Read\"></a>Declarative Code Is Easier To Read</h2><p>I realize that some may disagree with this.  But my feeling is, if I can express in one line what would  take a loop in JavaScript to do, I’ll take the one line of code.  This one of the things that makes Angular attractive.  I can create my own HTML tags.  Why not get the same benefit from my CSS?</p>\n<h2 id=\"Reasons-Why-You-Might-Not\"><a href=\"#Reasons-Why-You-Might-Not\" class=\"headerlink\" title=\"Reasons Why You Might Not\"></a>Reasons Why You Might Not</h2><p>There are a few reasons why you might not use CSS Animations.  First, it is relatively new.  It may not do everything you want it to do.  So, you may have to resort to using JavaScript for at least some of the things you want to do. Second, it may not support all of the browsers you need to support.</p>\n<h2 id=\"Resources\"><a href=\"#Resources\" class=\"headerlink\" title=\"Resources\"></a>Resources</h2><p>Here are a brief list of resources that I found</p>\n<h3 id=\"CSS-Generators\"><a href=\"#CSS-Generators\" class=\"headerlink\" title=\"CSS Generators\"></a>CSS Generators</h3><ul>\n<li><a href=\"//www.cssanimate.com/\">CSS Animate</a></li>\n<li><a href=\"//www.css3maker.com/css3-animation.html#\">CSS3 Maker</a></li>\n</ul>\n<h3 id=\"CSS-Animated-Accordion\"><a href=\"#CSS-Animated-Accordion\" class=\"headerlink\" title=\"CSS Animated Accordion\"></a>CSS Animated Accordion</h3><ul>\n<li><a href=\"//css3.bradshawenterprises.com/accordions/\">Bradshaw Enterprises</a></li>\n<li><a href=\"//www.jamestease.co.uk/blether/accordion-using-css-animations\">James Tease</a></li>\n<li><a href=\"//martinivanov.net/2014/03/19/animated-css3-only-horizontal-accordion/\">Martin Ivanov</a> (side ways)</li>\n<li><a href=\"//www.thecssninja.com/css/accordian-effect-using-css\">The CSS Ninja</a></li>\n</ul>\n<h3 id=\"Menus\"><a href=\"#Menus\" class=\"headerlink\" title=\"Menus\"></a>Menus</h3><ul>\n<li><a href=\"//css3menu.com/\">CSS Menu</a> (lots of variations)</li>\n<li><a href=\"//css3-menu.com/animated-css3-menu.html\">Menu Maker</a></li>\n</ul>\n<h3 id=\"Slide-Show\"><a href=\"#Slide-Show\" class=\"headerlink\" title=\"Slide Show\"></a>Slide Show</h3><ul>\n<li><a href=\"//css-tricks.com/infinite-all-css-scrolling-slideshow/\">Infinite Scrolling</a></li>\n<li><a href=\"//agskryp.wordpress.com/2014/07/20/css3-animation-slideshow/\">One at a time</a> (<a href=\"/oneatatimeslideshow\" title=\"http:/oneatatimeslideshow\">http:&#x2F;oneatatimeslideshow</a>)</li>\n</ul>\n<p>When I first suggested “CSS Animations” to a designer friend of mine, he reacted as though I was suggesting putting a flash animation on a web site.  Obviously, we wouldn’t want to do that. But we use animation is some pretty creative ways.  So the next time you reach for JavaScript to add some sort of animation to your web application, do a search for a CSS Animation instead.</p>\n",
            "tags": [
                "animation",
                "css",
                "html"
            ]
        }
    ]
}